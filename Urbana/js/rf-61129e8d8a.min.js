function gimmePrefix(e){var t=["Moz","Khtml","Webkit","O","ms"],n=document.createElement("div"),i=e.charAt(0).toUpperCase()+e.slice(1);if(e in n.style)return e;for(var o=t.length;o--;)if(t[o]+i in n.style)return t[o]+i;return!1}!function(t,n,i){"function"==typeof define&&define.amd?define(["jquery"],function(e){return i(e,t,n),e.mobile}):i(t.jQuery,t,n)}(this,document,function(e,t,n,i){var o,r,d,s,a,l,c,u,f,h,p;function m(e,t,n,i){var o=n.type;n.type=t,i?d.event.trigger(n,a,e):d.event.dispatch.call(e,n),n.type=o}!function(f,e,t,h){var c,n,o="virtualMouseBindings",d="virtualTouchID",i="vmouseover vmousedown vmousemove vmouseup vclick vmouseout vmousecancel".split(" "),p="clientX clientY pageX pageY screenX screenY".split(" "),r=f.event.mouseHooks?f.event.mouseHooks.props:[],m=f.event.props.concat(r),s={},a=0,l=0,u=0,g=!1,v=[],y=!1,_=!1,b="addEventListener"in t,w=f(t),S=1,k=0;function x(e){for(;e&&void 0!==e.originalEvent;)e=e.originalEvent;return e}function T(e){for(var t,n,i={};e;){for(n in t=f.data(e,o))t[n]&&(i[n]=i.hasVirtualBinding=!0);e=e.parentNode}return i}function A(){_=!0}function I(){_=!1}function C(){P(),a=setTimeout(function(){k=a=0,v.length=0,y=!1,A()},f.vmouse.resetTimerDuration)}function P(){a&&(clearTimeout(a),a=0)}function E(e,t,n){var i;return(n&&n[e]||!n&&function(e,t){for(var n;e;){if((n=f.data(e,o))&&(!t||n[t]))return e;e=e.parentNode}return null}(t.target,e))&&(i=function(e,t){var n,i,o,r,s,a,c,d,l,u=e.type;if((e=f.Event(e)).type=t,n=e.originalEvent,i=f.event.props,-1<u.search(/^(mouse|click)/)&&(i=m),n)for(c=i.length;c;)e[r=i[--c]]=n[r];if(-1<u.search(/mouse(down|up)|click/)&&!e.which&&(e.which=1),-1!==u.search(/^touch/)&&(u=(o=x(n)).touches,s=o.changedTouches,a=u&&u.length?u[0]:s&&s.length?s[0]:h))for(d=0,l=p.length;d<l;d++)e[r=p[d]]=a[r];return e}(t,e),f(t.target).trigger(i)),i}function O(e){var t,n=f.data(e.target,d);y||k&&k===n||(t=E("v"+e.type,e))&&(t.isDefaultPrevented()&&e.preventDefault(),t.isPropagationStopped()&&e.stopPropagation(),t.isImmediatePropagationStopped()&&e.stopImmediatePropagation())}function B(e){var t,n,i,o=x(e).touches;o&&1===o.length&&(n=T(t=e.target)).hasVirtualBinding&&(k=S++,f.data(t,d,k),P(),I(),g=!1,i=x(e).touches[0],l=i.pageX,u=i.pageY,E("vmouseover",e,n),E("vmousedown",e,n))}function N(e){_||(g||E("vmousecancel",e,T(e.target)),g=!0,C())}function j(e){if(!_){var t=x(e).touches[0],n=g,i=f.vmouse.moveDistanceThreshold,o=T(e.target);(g=g||Math.abs(t.pageX-l)>i||Math.abs(t.pageY-u)>i)&&!n&&E("vmousecancel",e,o),E("vmousemove",e,o),C()}}function M(e){if(!_){A();var t,n,i=T(e.target);E("vmouseup",e,i),g||(t=E("vclick",e,i))&&t.isDefaultPrevented()&&(n=x(e).changedTouches[0],v.push({touchID:k,x:n.clientX,y:n.clientY}),y=!0),E("vmouseout",e,i),g=!1,C()}}function D(e){var t,n=f.data(e,o);if(n)for(t in n)if(n[t])return!0;return!1}function $(){}function L(n){var i=n.substr(1);return{setup:function(){D(this)||f.data(this,o,{}),f.data(this,o)[n]=!0,s[n]=(s[n]||0)+1,1===s[n]&&w.bind(i,O),f(this).bind(i,$),b&&(s.touchstart=(s.touchstart||0)+1,1===s.touchstart&&w.bind("touchstart",B).bind("touchend",M).bind("touchmove",j).bind("scroll",N))},teardown:function(){--s[n],s[n]||w.unbind(i,O),b&&(--s.touchstart,s.touchstart||w.unbind("touchstart",B).unbind("touchmove",j).unbind("touchend",M).unbind("scroll",N));var e=f(this),t=f.data(this,o);t&&(t[n]=!1),e.unbind(i,$),D(this)||e.removeData(o)}}}for(f.vmouse={moveDistanceThreshold:10,clickDistanceThreshold:10,resetTimerDuration:1500},n=0;n<i.length;n++)f.event.special[i[n]]=L(i[n]);b&&t.addEventListener("click",function(e){var t,n,i,o,r,s=v.length,a=e.target;if(s)for(t=e.clientX,n=e.clientY,c=f.vmouse.clickDistanceThreshold,i=a;i;){for(o=0;o<s;o++)if(r=v[o],0,i===a&&Math.abs(r.x-t)<c&&Math.abs(r.y-n)<c||f.data(i,d)===r.touchID)return e.preventDefault(),void e.stopPropagation();i=i.parentNode}},!0)}(e,0,n),e.mobile={},r={touch:"ontouchend"in n},(o=e).mobile.support=o.mobile.support||{},o.extend(o.support,r),o.extend(o.mobile.support,r),s=this,l=(d=e)(n),c=d.mobile.support.touch,u="touchmove scroll",f=c?"touchstart":"mousedown",h=c?"touchend":"mouseup",p=c?"touchmove":"mousemove",d.each("touchstart touchmove touchend tap taphold swipe swipeleft swiperight scrollstart scrollstop".split(" "),function(e,t){d.fn[t]=function(e){return e?this.bind(t,e):this.trigger(t)},d.attrFn&&(d.attrFn[t]=!0)}),d.event.special.scrollstart={enabled:!0,setup:function(){var n,t,i=this;function o(e,t){m(i,(n=t)?"scrollstart":"scrollstop",e)}d(i).bind(u,function(e){d.event.special.scrollstart.enabled&&(n||o(e,!0),clearTimeout(t),t=setTimeout(function(){o(e,!1)},50))})},teardown:function(){d(this).unbind(u)}},d.event.special.tap={tapholdThreshold:750,emitTapOnTaphold:!0,setup:function(){var s=this,a=d(s),c=!1;a.bind("vmousedown",function(e){if(c=!1,e.which&&1!==e.which)return!1;var t,n=e.target;function i(){clearTimeout(t)}function o(){i(),a.unbind("vclick",r).unbind("vmouseup",i),l.unbind("vmousecancel",o)}function r(e){o(),c||n!==e.target?c&&e.stopPropagation():m(s,"tap",e)}a.bind("vmouseup",i).bind("vclick",r),l.bind("vmousecancel",o),t=setTimeout(function(){d.event.special.tap.emitTapOnTaphold||(c=!0),m(s,"taphold",d.Event("taphold",{target:n}))},d.event.special.tap.tapholdThreshold)})},teardown:function(){d(this).unbind("vmousedown").unbind("vclick").unbind("vmouseup"),l.unbind("vmousecancel")}},d.event.special.swipe={scrollSupressionThreshold:30,durationThreshold:1e3,horizontalDistanceThreshold:30,verticalDistanceThreshold:30,getLocation:function(e){var t=s.pageXOffset,n=s.pageYOffset,i=e.clientX,o=e.clientY;return 0===e.pageY&&Math.floor(o)>Math.floor(e.pageY)||0===e.pageX&&Math.floor(i)>Math.floor(e.pageX)?(i-=t,o-=n):(o<e.pageY-n||i<e.pageX-t)&&(i=e.pageX-t,o=e.pageY-n),{x:i,y:o}},start:function(e){var t=e.originalEvent.touches?e.originalEvent.touches[0]:e,n=d.event.special.swipe.getLocation(t);return{time:(new Date).getTime(),coords:[n.x,n.y],origin:d(e.target)}},stop:function(e){var t=e.originalEvent.touches?e.originalEvent.touches[0]:e,n=d.event.special.swipe.getLocation(t);return{time:(new Date).getTime(),coords:[n.x,n.y]}},handleSwipe:function(e,t,n,i){if(t.time-e.time<d.event.special.swipe.durationThreshold&&Math.abs(e.coords[0]-t.coords[0])>d.event.special.swipe.horizontalDistanceThreshold&&Math.abs(e.coords[1]-t.coords[1])<d.event.special.swipe.verticalDistanceThreshold){var o=e.coords[0]>t.coords[0]?"swipeleft":"swiperight";return m(n,"swipe",d.Event("swipe",{target:i,swipestart:e,swipestop:t}),!0),m(n,o,d.Event(o,{target:i,swipestart:e,swipestop:t}),!0),!0}return!1},eventInProgress:!1,setup:function(){var e,r=this,t=d(r),s={};(e=d.data(this,"mobile-events"))||(e={length:0},d.data(this,"mobile-events",e)),e.length++,(e.swipe=s).start=function(e){if(!d.event.special.swipe.eventInProgress){d.event.special.swipe.eventInProgress=!0;var t,n=d.event.special.swipe.start(e),i=e.target,o=!1;s.move=function(e){n&&(t=d.event.special.swipe.stop(e),o||(o=d.event.special.swipe.handleSwipe(n,t,r,i))&&(d.event.special.swipe.eventInProgress=!1),Math.abs(n.coords[0]-t.coords[0])>d.event.special.swipe.scrollSupressionThreshold&&e.preventDefault())},s.stop=function(){o=!0,d.event.special.swipe.eventInProgress=!1,l.off(p,s.move),s.move=null},l.on(p,s.move).one(h,s.stop)}},t.on(f,s.start)},teardown:function(){var e,t;(e=d.data(this,"mobile-events"))&&(t=e.swipe,delete e.swipe,e.length--,0===e.length&&d.removeData(this,"mobile-events")),t&&(t.start&&d(this).off(f,t.start),t.move&&l.off(p,t.move),t.stop&&l.off(h,t.stop))}},d.each({scrollstop:"scrollstart",taphold:"tap",swipeleft:"swipe",swiperight:"swipe"},function(e,t){d.event.special[e]={setup:function(){d(this).bind(t,d.noop)},teardown:function(){d(this).unbind(t)}}})}),function(e,t){"object"==typeof exports?module.exports=t():"function"==typeof define&&define.amd?define(t):e.Spinner=t()}(this,function(){"use strict";var m,r=["webkit","Moz","ms","O"],g={};function v(e,t){var n,i=document.createElement(e||"div");for(n in t)i[n]=t[n];return i}function y(e){for(var t=1,n=arguments.length;t<n;t++)e.appendChild(arguments[t]);return e}var e,_=(e=v("style",{type:"text/css"}),y(document.getElementsByTagName("head")[0],e),e.sheet||e.styleSheet);function i(e,t){var n,i,o=e.style;for(t=t.charAt(0).toUpperCase()+t.slice(1),i=0;i<r.length;i++)if(void 0!==o[n=r[i]+t])return n;if(void 0!==o[t])return t}function b(e,t){for(var n in t)e.style[i(e,n)||n]=t[n];return e}function t(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)void 0===e[i]&&(e[i]=n[i])}return e}function w(e,t){return"string"==typeof e?e:e[t%e.length]}var n={lines:12,length:7,width:5,radius:10,rotate:0,corners:1,color:"#000",direction:1,speed:1,trail:100,opacity:.25,fps:20,zIndex:2e9,className:"spinner",top:"50%",left:"50%",position:"absolute"};function o(e){this.opts=t(e||{},o.defaults,n)}o.defaults={},t(o.prototype,{spin:function(e){this.stop();var n=this,i=n.opts,o=n.el=b(v(0,{className:i.className}),{position:i.position,width:0,zIndex:i.zIndex});i.radius,i.length,i.width;if(e&&(e.insertBefore(o,e.firstChild||null),b(o,{left:i.left,top:i.top})),o.setAttribute("role","progressbar"),n.lines(o,n.opts),!m){var r,s=0,a=(i.lines-1)*(1-i.direction)/2,c=i.fps,d=c/i.speed,l=(1-i.opacity)/(d*i.trail/100),u=d/i.lines;!function e(){s++;for(var t=0;t<i.lines;t++)r=Math.max(1-(s+(i.lines-t)*u)%d*l,i.opacity),n.opacity(o,t*i.direction+a,r,i);n.timeout=n.el&&setTimeout(e,~~(1e3/c))}()}return n},stop:function(){var e=this.el;return e&&(clearTimeout(this.timeout),e.parentNode&&e.parentNode.removeChild(e),this.el=void 0),this},lines:function(e,n){var t,i,o,r,s,a,c,d,l,u,f=0,h=(n.lines-1)*(1-n.direction)/2;function p(e,t){return b(v(),{position:"absolute",width:n.length+n.width+"px",height:n.width+"px",background:e,boxShadow:t,transformOrigin:"left",transform:"rotate("+~~(360/n.lines*f+n.rotate)+"deg) translate("+n.radius+"px,0)",borderRadius:(n.corners*n.width>>1)+"px"})}for(;f<n.lines;f++)t=b(v(),{position:"absolute",top:1+~(n.width/2)+"px",transform:n.hwaccel?"translate3d(0,0,0)":"",opacity:n.opacity,animation:m&&(i=n.opacity,o=n.trail,r=h+f*n.direction,s=n.lines,void 0,void 0,void 0,void 0,void 0,a=["opacity",o,~~(100*i),r,s].join("-"),c=.01+r/s*100,d=Math.max(1-(1-i)/o*(100-c),i),l=m.substring(0,m.indexOf("Animation")).toLowerCase(),u=l&&"-"+l+"-"||"",g[a]||(_.insertRule("@"+u+"keyframes "+a+"{0%{opacity:"+d+"}"+c+"%{opacity:"+i+"}"+(.01+c)+"%{opacity:1}"+(c+o)%100+"%{opacity:"+i+"}100%{opacity:"+d+"}}",_.cssRules.length),g[a]=1),a+" "+1/n.speed+"s linear infinite")}),n.shadow&&y(t,b(p("#000","0 0 4px #000"),{top:"2px"})),y(e,y(t,p(w(n.color,f),"0 0 1px rgba(0,0,0,.1)")));return e},opacity:function(e,t,n){t<e.childNodes.length&&(e.childNodes[t].style.opacity=n)}});var s=b(v("group"),{behavior:"url(#default#VML)"});function d(e,t){return v("<"+e+' xmlns="urn:schemas-microsoft.com:vml" class="spin-vml">',t)}return!i(s,"transform")&&s.adj?(_.addRule(".spin-vml","behavior:url(#default#VML)"),o.prototype.lines=function(e,i){var o=i.length+i.width,t=2*o;function r(){return b(d("group",{coordsize:t+" "+t,coordorigin:-o+" "+-o}),{width:t,height:t})}var n,s=2*-(i.width+i.length)+"px",a=b(r(),{position:"absolute",top:s,left:s});function c(e,t,n){y(a,y(b(r(),{rotation:360/i.lines*e+"deg",left:~~t}),y(b(d("roundrect",{arcsize:i.corners}),{width:o,height:i.width,left:i.radius,top:-i.width>>1,filter:n}),d("fill",{color:w(i.color,e),opacity:i.opacity}),d("stroke",{opacity:0}))))}if(i.shadow)for(n=1;n<=i.lines;n++)c(n,-2,"progid:DXImageTransform.Microsoft.Blur(pixelradius=2,makeshadow=1,shadowopacity=.3)");for(n=1;n<=i.lines;n++)c(n);return y(e,a)},o.prototype.opacity=function(e,t,n,i){var o=e.firstChild;i=i.shadow&&i.lines||0,o&&t+i<o.childNodes.length&&(o=(o=(o=o.childNodes[t+i])&&o.firstChild)&&o.firstChild)&&(o.opacity=n)}):m=i(s,"animation"),o}),function(){function e(){}var t=e.prototype,n=this,i=n.EventEmitter;function r(e,t){for(var n=e.length;n--;)if(e[n].listener===t)return n;return-1}function o(e){return function(){return this[e].apply(this,arguments)}}t.getListeners=function(e){var t,n,i=this._getEvents();if("object"==typeof e)for(n in t={},i)i.hasOwnProperty(n)&&e.test(n)&&(t[n]=i[n]);else t=i[e]||(i[e]=[]);return t},t.flattenListeners=function(e){var t,n=[];for(t=0;t<e.length;t+=1)n.push(e[t].listener);return n},t.getListenersAsObject=function(e){var t,n=this.getListeners(e);return n instanceof Array&&((t={})[e]=n),t||n},t.addListener=function(e,t){var n,i=this.getListenersAsObject(e),o="object"==typeof t;for(n in i)i.hasOwnProperty(n)&&-1===r(i[n],t)&&i[n].push(o?t:{listener:t,once:!1});return this},t.on=o("addListener"),t.addOnceListener=function(e,t){return this.addListener(e,{listener:t,once:!0})},t.once=o("addOnceListener"),t.defineEvent=function(e){return this.getListeners(e),this},t.defineEvents=function(e){for(var t=0;t<e.length;t+=1)this.defineEvent(e[t]);return this},t.removeListener=function(e,t){var n,i,o=this.getListenersAsObject(e);for(i in o)o.hasOwnProperty(i)&&-1!==(n=r(o[i],t))&&o[i].splice(n,1);return this},t.off=o("removeListener"),t.addListeners=function(e,t){return this.manipulateListeners(!1,e,t)},t.removeListeners=function(e,t){return this.manipulateListeners(!0,e,t)},t.manipulateListeners=function(e,t,n){var i,o,r=e?this.removeListener:this.addListener,s=e?this.removeListeners:this.addListeners;if("object"!=typeof t||t instanceof RegExp)for(i=n.length;i--;)r.call(this,t,n[i]);else for(i in t)t.hasOwnProperty(i)&&(o=t[i])&&("function"==typeof o?r.call(this,i,o):s.call(this,i,o));return this},t.removeEvent=function(e){var t,n=typeof e,i=this._getEvents();if("string"==n)delete i[e];else if("object"==n)for(t in i)i.hasOwnProperty(t)&&e.test(t)&&delete i[t];else delete this._events;return this},t.removeAllListeners=o("removeEvent"),t.emitEvent=function(e,t){var n,i,o,r=this.getListenersAsObject(e);for(o in r)if(r.hasOwnProperty(o))for(i=r[o].length;i--;)!0===(n=r[o][i]).once&&this.removeListener(e,n.listener),n.listener.apply(this,t||[])===this._getOnceReturnValue()&&this.removeListener(e,n.listener);return this},t.trigger=o("emitEvent"),t.emit=function(e){var t=Array.prototype.slice.call(arguments,1);return this.emitEvent(e,t)},t.setOnceReturnValue=function(e){return this._onceReturnValue=e,this},t._getOnceReturnValue=function(){return!this.hasOwnProperty("_onceReturnValue")||this._onceReturnValue},t._getEvents=function(){return this._events||(this._events={})},e.noConflict=function(){return n.EventEmitter=i,e},"function"==typeof define&&define.amd?define("eventEmitter/EventEmitter",[],function(){return e}):"object"==typeof module&&module.exports?module.exports=e:this.EventEmitter=e}.call(this),function(n){var e=document.documentElement,t=function(){};function i(e){var t=n.event;return t.target=t.target||t.srcElement||e,t}e.addEventListener?t=function(e,t,n){e.addEventListener(t,n,!1)}:e.attachEvent&&(t=function(t,e,n){t[e+n]=n.handleEvent?function(){var e=i(t);n.handleEvent.call(n,e)}:function(){var e=i(t);n.call(t,e)},t.attachEvent("on"+e,t[e+n])});var o=function(){};e.removeEventListener?o=function(e,t,n){e.removeEventListener(t,n,!1)}:e.detachEvent&&(o=function(t,n,i){t.detachEvent("on"+n,t[n+i]);try{delete t[n+i]}catch(e){t[n+i]=void 0}});var r={bind:t,unbind:o};"function"==typeof define&&define.amd?define("eventie/eventie",r):n.eventie=r}(this),function(n,i){"function"==typeof define&&define.amd?define(["eventEmitter/EventEmitter","eventie/eventie"],function(e,t){return i(n,e,t)}):"object"==typeof exports?module.exports=i(n,require("eventEmitter"),require("eventie")):n.imagesLoaded=i(n,n.EventEmitter,n.eventie)}(this,function(e,t,n){var o=e.jQuery,s=e.console,a=void 0!==s;function r(e,t){for(var n in t)e[n]=t[n];return e}var c=Object.prototype.toString;function d(e){var t=[];if(function(e){return"[object Array]"===c.call(e)}(e))t=e;else if("number"==typeof e.length)for(var n=0,i=e.length;n<i;n++)t.push(e[n]);else t.push(e);return t}function l(e,t,n){if(!(this instanceof l))return new l(e,t);"string"==typeof e&&(e=document.querySelectorAll(e)),this.elements=d(e),this.options=r({},this.options),"function"==typeof t?n=t:r(this.options,t),n&&this.on("always",n),this.getImages(),o&&(this.jqDeferred=new o.Deferred);var i=this;setTimeout(function(){i.check()})}function i(e){this.img=e}(l.prototype=new t).options={},l.prototype.getImages=function(){this.images=[];for(var e=0,t=this.elements.length;e<t;e++){var n=this.elements[e];"IMG"===n.nodeName&&this.addImage(n);var i=n.nodeType;if(i&&(1===i||9===i||11===i))for(var o=n.querySelectorAll("img"),r=0,s=o.length;r<s;r++){var a=o[r];this.addImage(a)}}},l.prototype.addImage=function(e){var t=new i(e);this.images.push(t)},l.prototype.check=function(){var n=this,i=0,o=this.images.length;if(this.hasAnyBroken=!1,o)for(var e=0;e<o;e++){var t=this.images[e];t.on("confirm",r),t.check()}else this.complete();function r(e,t){return n.options.debug&&a&&s.log("confirm",e,t),n.progress(e),++i===o&&n.complete(),!0}},l.prototype.progress=function(e){this.hasAnyBroken=this.hasAnyBroken||!e.isLoaded;var t=this;setTimeout(function(){t.emit("progress",t,e),t.jqDeferred&&t.jqDeferred.notify&&t.jqDeferred.notify(t,e)})},l.prototype.complete=function(){var t=this.hasAnyBroken?"fail":"done";this.isComplete=!0;var n=this;setTimeout(function(){if(n.emit(t,n),n.emit("always",n),n.jqDeferred){var e=n.hasAnyBroken?"reject":"resolve";n.jqDeferred[e](n)}})},o&&(o.fn.imagesLoaded=function(e,t){return new l(this,e,t).jqDeferred.promise(o(this))}),(i.prototype=new t).check=function(){var e=u[this.img.src]||new f(this.img.src);if(e.isConfirmed)this.confirm(e.isLoaded,"cached was confirmed");else if(this.img.complete&&void 0!==this.img.naturalWidth)this.confirm(0!==this.img.naturalWidth,"naturalWidth");else{var n=this;e.on("confirm",function(e,t){return n.confirm(e.isLoaded,t),!0}),e.check()}},i.prototype.confirm=function(e,t){this.isLoaded=e,this.emit("confirm",this,t)};var u={};function f(e){this.src=e,u[e]=this}return(f.prototype=new t).check=function(){if(!this.isChecked){var e=new Image;n.bind(e,"load",this),n.bind(e,"error",this),e.src=this.src,this.isChecked=!0}},f.prototype.handleEvent=function(e){var t="on"+e.type;this[t]&&this[t](e)},f.prototype.onload=function(e){this.confirm(!0,"onload"),this.unbindProxyEvents(e)},f.prototype.onerror=function(e){this.confirm(!1,"onerror"),this.unbindProxyEvents(e)},f.prototype.confirm=function(e,t){this.isConfirmed=!0,this.isLoaded=e,this.emit("confirm",this,t)},f.prototype.unbindProxyEvents=function(e){n.unbind(e.target,"load",this),n.unbind(e.target,"error",this)},l}),function(e){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{("undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this).io=e()}}(function(){return function r(s,a,c){function d(n,e){if(!a[n]){if(!s[n]){var t="function"==typeof require&&require;if(!e&&t)return t(n,!0);if(l)return l(n,!0);var i=new Error("Cannot find module '"+n+"'");throw i.code="MODULE_NOT_FOUND",i}var o=a[n]={exports:{}};s[n][0].call(o.exports,function(e){var t=s[n][1][e];return d(t||e)},o,o.exports,r,s,a,c)}return a[n].exports}for(var l="function"==typeof require&&require,e=0;e<c.length;e++)d(c[e]);return d}({1:[function(e,t,n){t.exports=e("./lib/")},{"./lib/":2}],2:[function(e,t,n){t.exports=e("./socket"),t.exports.parser=e("engine.io-parser")},{"./socket":3,"engine.io-parser":19}],3:[function(t,d,e){(function(i){var n=t("./transports"),e=t("component-emitter"),u=t("debug")("engine.io-client:socket"),o=t("indexof"),r=t("engine.io-parser"),s=t("parseuri"),a=t("parsejson"),c=t("parseqs");function f(e,t){if(!(this instanceof f))return new f(e,t);t=t||{},e&&"object"==typeof e&&(t=e,e=null),e?(e=s(e),t.hostname=e.host,t.secure="https"==e.protocol||"wss"==e.protocol,t.port=e.port,e.query&&(t.query=e.query)):t.host&&(t.hostname=s(t.host).host),this.secure=null!=t.secure?t.secure:i.location&&"https:"==location.protocol,t.hostname&&!t.port&&(t.port=this.secure?"443":"80"),this.agent=t.agent||!1,this.hostname=t.hostname||(i.location?location.hostname:"localhost"),this.port=t.port||(i.location&&location.port?location.port:this.secure?443:80),this.query=t.query||{},"string"==typeof this.query&&(this.query=c.decode(this.query)),this.upgrade=!1!==t.upgrade,this.path=(t.path||"/engine.io").replace(/\/$/,"")+"/",this.forceJSONP=!!t.forceJSONP,this.jsonp=!1!==t.jsonp,this.forceBase64=!!t.forceBase64,this.enablesXDR=!!t.enablesXDR,this.timestampParam=t.timestampParam||"t",this.timestampRequests=t.timestampRequests,this.transports=t.transports||["polling","websocket"],this.readyState="",this.writeBuffer=[],this.policyPort=t.policyPort||843,this.rememberUpgrade=t.rememberUpgrade||!1,this.binaryType=null,this.onlyBinaryUpgrades=t.onlyBinaryUpgrades,this.perMessageDeflate=!1!==t.perMessageDeflate&&(t.perMessageDeflate||{}),!0===this.perMessageDeflate&&(this.perMessageDeflate={}),this.perMessageDeflate&&null==this.perMessageDeflate.threshold&&(this.perMessageDeflate.threshold=1024),this.pfx=t.pfx||null,this.key=t.key||null,this.passphrase=t.passphrase||null,this.cert=t.cert||null,this.ca=t.ca||null,this.ciphers=t.ciphers||null,this.rejectUnauthorized=void 0===t.rejectUnauthorized||t.rejectUnauthorized;var n="object"==typeof i&&i;n.global===n&&t.extraHeaders&&0<Object.keys(t.extraHeaders).length&&(this.extraHeaders=t.extraHeaders),this.open()}(d.exports=f).priorWebsocketSuccess=!1,e(f.prototype),f.protocol=r.protocol,(f.Socket=f).Transport=t("./transport"),f.transports=t("./transports"),f.parser=t("engine.io-parser"),f.prototype.createTransport=function(e){u('creating transport "%s"',e);var t=function(e){var t={};for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);return t}(this.query);return t.EIO=r.protocol,t.transport=e,this.id&&(t.sid=this.id),new n[e]({agent:this.agent,hostname:this.hostname,port:this.port,secure:this.secure,path:this.path,query:t,forceJSONP:this.forceJSONP,jsonp:this.jsonp,forceBase64:this.forceBase64,enablesXDR:this.enablesXDR,timestampRequests:this.timestampRequests,timestampParam:this.timestampParam,policyPort:this.policyPort,socket:this,pfx:this.pfx,key:this.key,passphrase:this.passphrase,cert:this.cert,ca:this.ca,ciphers:this.ciphers,rejectUnauthorized:this.rejectUnauthorized,perMessageDeflate:this.perMessageDeflate,extraHeaders:this.extraHeaders})},f.prototype.open=function(){var e;if(this.rememberUpgrade&&f.priorWebsocketSuccess&&-1!=this.transports.indexOf("websocket"))e="websocket";else{if(0===this.transports.length){var t=this;return void setTimeout(function(){t.emit("error","No transports available")},0)}e=this.transports[0]}this.readyState="opening";try{e=this.createTransport(e)}catch(e){return this.transports.shift(),void this.open()}e.open(),this.setTransport(e)},f.prototype.setTransport=function(e){u("setting transport %s",e.name);var t=this;this.transport&&(u("clearing existing transport %s",this.transport.name),this.transport.removeAllListeners()),(this.transport=e).on("drain",function(){t.onDrain()}).on("packet",function(e){t.onPacket(e)}).on("error",function(e){t.onError(e)}).on("close",function(){t.onClose("transport close")})},f.prototype.probe=function(n){u('probing transport "%s"',n);var i=this.createTransport(n,{probe:1}),o=!1,r=this;function e(){if(r.onlyBinaryUpgrades){var e=!this.supportsBinary&&r.transport.supportsBinary;o=o||e}o||(u('probe transport "%s" opened',n),i.send([{type:"ping",data:"probe"}]),i.once("packet",function(e){if(!o)if("pong"==e.type&&"probe"==e.data){if(u('probe transport "%s" pong',n),r.upgrading=!0,r.emit("upgrading",i),!i)return;f.priorWebsocketSuccess="websocket"==i.name,u('pausing current transport "%s"',r.transport.name),r.transport.pause(function(){o||"closed"!=r.readyState&&(u("changing transport and sending upgrade packet"),l(),r.setTransport(i),i.send([{type:"upgrade"}]),r.emit("upgrade",i),i=null,r.upgrading=!1,r.flush())})}else{u('probe transport "%s" failed',n);var t=new Error("probe error");t.transport=i.name,r.emit("upgradeError",t)}}))}function s(){o||(o=!0,l(),i.close(),i=null)}function t(e){var t=new Error("probe error: "+e);t.transport=i.name,s(),u('probe transport "%s" failed because of error: %s',n,e),r.emit("upgradeError",t)}function a(){t("transport closed")}function c(){t("socket closed")}function d(e){i&&e.name!=i.name&&(u('"%s" works - aborting "%s"',e.name,i.name),s())}function l(){i.removeListener("open",e),i.removeListener("error",t),i.removeListener("close",a),r.removeListener("close",c),r.removeListener("upgrading",d)}f.priorWebsocketSuccess=!1,i.once("open",e),i.once("error",t),i.once("close",a),this.once("close",c),this.once("upgrading",d),i.open()},f.prototype.onOpen=function(){if(u("socket open"),this.readyState="open",f.priorWebsocketSuccess="websocket"==this.transport.name,this.emit("open"),this.flush(),"open"==this.readyState&&this.upgrade&&this.transport.pause){u("starting upgrade probes");for(var e=0,t=this.upgrades.length;e<t;e++)this.probe(this.upgrades[e])}},f.prototype.onPacket=function(e){if("opening"==this.readyState||"open"==this.readyState)switch(u('socket receive: type "%s", data "%s"',e.type,e.data),this.emit("packet",e),this.emit("heartbeat"),e.type){case"open":this.onHandshake(a(e.data));break;case"pong":this.setPing(),this.emit("pong");break;case"error":var t=new Error("server error");t.code=e.data,this.onError(t);break;case"message":this.emit("data",e.data),this.emit("message",e.data)}else u('packet received with socket readyState "%s"',this.readyState)},f.prototype.onHandshake=function(e){this.emit("handshake",e),this.id=e.sid,this.transport.query.sid=e.sid,this.upgrades=this.filterUpgrades(e.upgrades),this.pingInterval=e.pingInterval,this.pingTimeout=e.pingTimeout,this.onOpen(),"closed"!=this.readyState&&(this.setPing(),this.removeListener("heartbeat",this.onHeartbeat),this.on("heartbeat",this.onHeartbeat))},f.prototype.onHeartbeat=function(e){clearTimeout(this.pingTimeoutTimer);var t=this;t.pingTimeoutTimer=setTimeout(function(){"closed"!=t.readyState&&t.onClose("ping timeout")},e||t.pingInterval+t.pingTimeout)},f.prototype.setPing=function(){var e=this;clearTimeout(e.pingIntervalTimer),e.pingIntervalTimer=setTimeout(function(){u("writing ping packet - expecting pong within %sms",e.pingTimeout),e.ping(),e.onHeartbeat(e.pingTimeout)},e.pingInterval)},f.prototype.ping=function(){var e=this;this.sendPacket("ping",function(){e.emit("ping")})},f.prototype.onDrain=function(){this.writeBuffer.splice(0,this.prevBufferLen),(this.prevBufferLen=0)===this.writeBuffer.length?this.emit("drain"):this.flush()},f.prototype.flush=function(){"closed"!=this.readyState&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length&&(u("flushing %d packets in socket",this.writeBuffer.length),this.transport.send(this.writeBuffer),this.prevBufferLen=this.writeBuffer.length,this.emit("flush"))},f.prototype.write=f.prototype.send=function(e,t,n){return this.sendPacket("message",e,t,n),this},f.prototype.sendPacket=function(e,t,n,i){if("function"==typeof t&&(i=t,t=void 0),"function"==typeof n&&(i=n,n=null),"closing"!=this.readyState&&"closed"!=this.readyState){(n=n||{}).compress=!1!==n.compress;var o={type:e,data:t,options:n};this.emit("packetCreate",o),this.writeBuffer.push(o),i&&this.once("flush",i),this.flush()}},f.prototype.close=function(){if("opening"==this.readyState||"open"==this.readyState){this.readyState="closing";var e=this;this.writeBuffer.length?this.once("drain",function(){this.upgrading?i():t()}):this.upgrading?i():t()}function t(){e.onClose("forced close"),u("socket closing - telling transport to close"),e.transport.close()}function n(){e.removeListener("upgrade",n),e.removeListener("upgradeError",n),t()}function i(){e.once("upgrade",n),e.once("upgradeError",n)}return this},f.prototype.onError=function(e){u("socket error %j",e),f.priorWebsocketSuccess=!1,this.emit("error",e),this.onClose("transport error",e)},f.prototype.onClose=function(e,t){if("opening"==this.readyState||"open"==this.readyState||"closing"==this.readyState){u('socket close with reason: "%s"',e);clearTimeout(this.pingIntervalTimer),clearTimeout(this.pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),this.readyState="closed",this.id=null,this.emit("close",e,t),this.writeBuffer=[],this.prevBufferLen=0}},f.prototype.filterUpgrades=function(e){for(var t=[],n=0,i=e.length;n<i;n++)~o(this.transports,e[n])&&t.push(e[n]);return t}}).call(this,"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{})},{"./transport":4,"./transports":5,"component-emitter":15,debug:17,"engine.io-parser":19,indexof:23,parsejson:26,parseqs:27,parseuri:28}],4:[function(e,t,n){var i=e("engine.io-parser");function o(e){this.path=e.path,this.hostname=e.hostname,this.port=e.port,this.secure=e.secure,this.query=e.query,this.timestampParam=e.timestampParam,this.timestampRequests=e.timestampRequests,this.readyState="",this.agent=e.agent||!1,this.socket=e.socket,this.enablesXDR=e.enablesXDR,this.pfx=e.pfx,this.key=e.key,this.passphrase=e.passphrase,this.cert=e.cert,this.ca=e.ca,this.ciphers=e.ciphers,this.rejectUnauthorized=e.rejectUnauthorized,this.extraHeaders=e.extraHeaders}e("component-emitter")((t.exports=o).prototype),o.prototype.onError=function(e,t){var n=new Error(e);return n.type="TransportError",n.description=t,this.emit("error",n),this},o.prototype.open=function(){return"closed"!=this.readyState&&""!=this.readyState||(this.readyState="opening",this.doOpen()),this},o.prototype.close=function(){return"opening"!=this.readyState&&"open"!=this.readyState||(this.doClose(),this.onClose()),this},o.prototype.send=function(e){if("open"!=this.readyState)throw new Error("Transport not open");this.write(e)},o.prototype.onOpen=function(){this.readyState="open",this.writable=!0,this.emit("open")},o.prototype.onData=function(e){var t=i.decodePacket(e,this.socket.binaryType);this.onPacket(t)},o.prototype.onPacket=function(e){this.emit("packet",e)},o.prototype.onClose=function(){this.readyState="closed",this.emit("close")}},{"component-emitter":15,"engine.io-parser":19}],5:[function(t,e,n){(function(s){var a=t("xmlhttprequest-ssl"),c=t("./polling-xhr"),d=t("./polling-jsonp"),e=t("./websocket");n.polling=function(e){var t=!1,n=!1,i=!1!==e.jsonp;if(s.location){var o="https:"==location.protocol,r=location.port;r=r||(o?443:80),t=e.hostname!=location.hostname||r!=e.port,n=e.secure!=o}{if(e.xdomain=t,e.xscheme=n,"open"in new a(e)&&!e.forceJSONP)return new c(e);if(!i)throw new Error("JSONP disabled");return new d(e)}},n.websocket=e}).call(this,"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{})},{"./polling-jsonp":6,"./polling-xhr":7,"./websocket":9,"xmlhttprequest-ssl":10}],6:[function(s,a,e){(function(n){var i=s("./polling"),e=s("component-inherit");a.exports=t;var o,d=/\n/g,l=/\\n/g;function r(){}function t(e){i.call(this,e),this.query=this.query||{},o||(n.___eio||(n.___eio=[]),o=n.___eio),this.index=o.length;var t=this;o.push(function(e){t.onData(e)}),this.query.j=this.index,n.document&&n.addEventListener&&n.addEventListener("beforeunload",function(){t.script&&(t.script.onerror=r)},!1)}e(t,i),t.prototype.supportsBinary=!1,t.prototype.doClose=function(){this.script&&(this.script.parentNode.removeChild(this.script),this.script=null),this.form&&(this.form.parentNode.removeChild(this.form),this.form=null,this.iframe=null),i.prototype.doClose.call(this)},t.prototype.doPoll=function(){var t=this,e=document.createElement("script");this.script&&(this.script.parentNode.removeChild(this.script),this.script=null),e.async=!0,e.src=this.uri(),e.onerror=function(e){t.onError("jsonp poll error",e)};var n=document.getElementsByTagName("script")[0];n?n.parentNode.insertBefore(e,n):(document.head||document.body).appendChild(e),this.script=e,"undefined"!=typeof navigator&&/gecko/i.test(navigator.userAgent)&&setTimeout(function(){var e=document.createElement("iframe");document.body.appendChild(e),document.body.removeChild(e)},100)},t.prototype.doWrite=function(e,t){var n=this;if(!this.form){var i,o=document.createElement("form"),r=document.createElement("textarea"),s=this.iframeId="eio_iframe_"+this.index;o.className="socketio",o.style.position="absolute",o.style.top="-1000px",o.style.left="-1000px",o.target=s,o.method="POST",o.setAttribute("accept-charset","utf-8"),r.name="d",o.appendChild(r),document.body.appendChild(o),this.form=o,this.area=r}function a(){c(),t()}function c(){if(n.iframe)try{n.form.removeChild(n.iframe)}catch(e){n.onError("jsonp polling iframe removal error",e)}try{var e='<iframe src="javascript:0" name="'+n.iframeId+'">';i=document.createElement(e)}catch(e){(i=document.createElement("iframe")).name=n.iframeId,i.src="javascript:0"}i.id=n.iframeId,n.form.appendChild(i),n.iframe=i}this.form.action=this.uri(),c(),e=e.replace(l,"\\\n"),this.area.value=e.replace(d,"\\n");try{this.form.submit()}catch(e){}this.iframe.attachEvent?this.iframe.onreadystatechange=function(){"complete"==n.iframe.readyState&&a()}:this.iframe.onload=a}}).call(this,"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{})},{"./polling":8,"component-inherit":16}],7:[function(l,u,e){(function(o){var r=l("xmlhttprequest-ssl"),i=l("./polling"),e=l("component-emitter"),t=l("component-inherit"),s=l("debug")("engine.io-client:polling-xhr");function n(){}function a(e){if(i.call(this,e),o.location){var t="https:"==location.protocol,n=location.port;n=n||(t?443:80),this.xd=e.hostname!=o.location.hostname||n!=e.port,this.xs=e.secure!=t}else this.extraHeaders=e.extraHeaders}function c(e){this.method=e.method||"GET",this.uri=e.uri,this.xd=!!e.xd,this.xs=!!e.xs,this.async=!1!==e.async,this.data=null!=e.data?e.data:null,this.agent=e.agent,this.isBinary=e.isBinary,this.supportsBinary=e.supportsBinary,this.enablesXDR=e.enablesXDR,this.pfx=e.pfx,this.key=e.key,this.passphrase=e.passphrase,this.cert=e.cert,this.ca=e.ca,this.ciphers=e.ciphers,this.rejectUnauthorized=e.rejectUnauthorized,this.extraHeaders=e.extraHeaders,this.create()}function d(){for(var e in c.requests)c.requests.hasOwnProperty(e)&&c.requests[e].abort()}u.exports=a,u.exports.Request=c,t(a,i),a.prototype.supportsBinary=!0,a.prototype.request=function(e){return(e=e||{}).uri=this.uri(),e.xd=this.xd,e.xs=this.xs,e.agent=this.agent||!1,e.supportsBinary=this.supportsBinary,e.enablesXDR=this.enablesXDR,e.pfx=this.pfx,e.key=this.key,e.passphrase=this.passphrase,e.cert=this.cert,e.ca=this.ca,e.ciphers=this.ciphers,e.rejectUnauthorized=this.rejectUnauthorized,e.extraHeaders=this.extraHeaders,new c(e)},a.prototype.doWrite=function(e,t){var n="string"!=typeof e&&void 0!==e,i=this.request({method:"POST",data:e,isBinary:n}),o=this;i.on("success",t),i.on("error",function(e){o.onError("xhr post error",e)}),this.sendXhr=i},a.prototype.doPoll=function(){s("xhr poll");var e=this.request(),t=this;e.on("data",function(e){t.onData(e)}),e.on("error",function(e){t.onError("xhr poll error",e)}),this.pollXhr=e},e(c.prototype),c.prototype.create=function(){var e={agent:this.agent,xdomain:this.xd,xscheme:this.xs,enablesXDR:this.enablesXDR};e.pfx=this.pfx,e.key=this.key,e.passphrase=this.passphrase,e.cert=this.cert,e.ca=this.ca,e.ciphers=this.ciphers,e.rejectUnauthorized=this.rejectUnauthorized;var t=this.xhr=new r(e),n=this;try{s("xhr open %s: %s",this.method,this.uri),t.open(this.method,this.uri,this.async);try{if(this.extraHeaders)for(var i in t.setDisableHeaderCheck(!0),this.extraHeaders)this.extraHeaders.hasOwnProperty(i)&&t.setRequestHeader(i,this.extraHeaders[i])}catch(e){}if(this.supportsBinary&&(t.responseType="arraybuffer"),"POST"==this.method)try{this.isBinary?t.setRequestHeader("Content-type","application/octet-stream"):t.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch(e){}"withCredentials"in t&&(t.withCredentials=!0),this.hasXDR()?(t.onload=function(){n.onLoad()},t.onerror=function(){n.onError(t.responseText)}):t.onreadystatechange=function(){4==t.readyState&&(200==t.status||1223==t.status?n.onLoad():setTimeout(function(){n.onError(t.status)},0))},s("xhr data %s",this.data),t.send(this.data)}catch(e){return void setTimeout(function(){n.onError(e)},0)}o.document&&(this.index=c.requestsCount++,c.requests[this.index]=this)},c.prototype.onSuccess=function(){this.emit("success"),this.cleanup()},c.prototype.onData=function(e){this.emit("data",e),this.onSuccess()},c.prototype.onError=function(e){this.emit("error",e),this.cleanup(!0)},c.prototype.cleanup=function(e){if(void 0!==this.xhr&&null!==this.xhr){if(this.hasXDR()?this.xhr.onload=this.xhr.onerror=n:this.xhr.onreadystatechange=n,e)try{this.xhr.abort()}catch(e){}o.document&&delete c.requests[this.index],this.xhr=null}},c.prototype.onLoad=function(){var t;try{var e;try{e=this.xhr.getResponseHeader("Content-Type").split(";")[0]}catch(e){}if("application/octet-stream"===e)t=this.xhr.response;else if(this.supportsBinary)try{t=String.fromCharCode.apply(null,new Uint8Array(this.xhr.response))}catch(e){for(var n=new Uint8Array(this.xhr.response),i=[],o=0,r=n.length;o<r;o++)i.push(n[o]);t=String.fromCharCode.apply(null,i)}else t=this.xhr.responseText}catch(e){this.onError(e)}null!=t&&this.onData(t)},c.prototype.hasXDR=function(){return void 0!==o.XDomainRequest&&!this.xs&&this.enablesXDR},c.prototype.abort=function(){this.cleanup()},o.document&&(c.requestsCount=0,c.requests={},o.attachEvent?o.attachEvent("onunload",d):o.addEventListener&&o.addEventListener("beforeunload",d,!1))}).call(this,"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{})},{"./polling":8,"component-emitter":15,"component-inherit":16,debug:17,"xmlhttprequest-ssl":10}],8:[function(e,t,n){var i=e("../transport"),o=e("parseqs"),r=e("engine.io-parser"),s=e("component-inherit"),a=e("yeast"),c=e("debug")("engine.io-client:polling");t.exports=l;var d=null!=new(e("xmlhttprequest-ssl"))({xdomain:!1}).responseType;function l(e){var t=e&&e.forceBase64;d&&!t||(this.supportsBinary=!1),i.call(this,e)}s(l,i),l.prototype.name="polling",l.prototype.doOpen=function(){this.poll()},l.prototype.pause=function(e){var t=this;function n(){c("paused"),t.readyState="paused",e()}if(this.readyState="pausing",this.polling||!this.writable){var i=0;this.polling&&(c("we are currently polling - waiting to pause"),i++,this.once("pollComplete",function(){c("pre-pause polling complete"),--i||n()})),this.writable||(c("we are currently writing - waiting to pause"),i++,this.once("drain",function(){c("pre-pause writing complete"),--i||n()}))}else n()},l.prototype.poll=function(){c("polling"),this.polling=!0,this.doPoll(),this.emit("poll")},l.prototype.onData=function(e){var i=this;c("polling got data %s",e);r.decodePayload(e,this.socket.binaryType,function(e,t,n){if("opening"==i.readyState&&i.onOpen(),"close"==e.type)return i.onClose(),!1;i.onPacket(e)}),"closed"!=this.readyState&&(this.polling=!1,this.emit("pollComplete"),"open"==this.readyState?this.poll():c('ignoring poll - transport state "%s"',this.readyState))},l.prototype.doClose=function(){var e=this;function t(){c("writing close packet"),e.write([{type:"close"}])}"open"==this.readyState?(c("transport open - closing"),t()):(c("transport not open - deferring close"),this.once("open",t))},l.prototype.write=function(e){var t=this;this.writable=!1;function n(){t.writable=!0,t.emit("drain")}t=this;r.encodePayload(e,this.supportsBinary,function(e){t.doWrite(e,n)})},l.prototype.uri=function(){var e=this.query||{},t=this.secure?"https":"http",n="";return!1!==this.timestampRequests&&(e[this.timestampParam]=a()),this.supportsBinary||e.sid||(e.b64=1),e=o.encode(e),this.port&&("https"==t&&443!=this.port||"http"==t&&80!=this.port)&&(n=":"+this.port),e.length&&(e="?"+e),t+"://"+(-1!==this.hostname.indexOf(":")?"["+this.hostname+"]":this.hostname)+n+this.path+e}},{"../transport":4,"component-inherit":16,debug:17,"engine.io-parser":19,parseqs:27,"xmlhttprequest-ssl":10,yeast:30}],9:[function(l,u,e){(function(s){var n=l("../transport"),a=l("engine.io-parser"),i=l("parseqs"),e=l("component-inherit"),o=l("yeast"),c=l("debug")("engine.io-client:websocket"),d=s.WebSocket||s.MozWebSocket,r=d;if(!r&&"undefined"==typeof window)try{r=l("ws")}catch(e){}function t(e){e&&e.forceBase64&&(this.supportsBinary=!1),this.perMessageDeflate=e.perMessageDeflate,n.call(this,e)}e(u.exports=t,n),t.prototype.name="websocket",t.prototype.supportsBinary=!0,t.prototype.doOpen=function(){if(this.check()){var e=this.uri(),t={agent:this.agent,perMessageDeflate:this.perMessageDeflate};t.pfx=this.pfx,t.key=this.key,t.passphrase=this.passphrase,t.cert=this.cert,t.ca=this.ca,t.ciphers=this.ciphers,t.rejectUnauthorized=this.rejectUnauthorized,this.extraHeaders&&(t.headers=this.extraHeaders),this.ws=d?new r(e):new r(e,void 0,t),void 0===this.ws.binaryType&&(this.supportsBinary=!1),this.ws.supports&&this.ws.supports.binary?(this.supportsBinary=!0,this.ws.binaryType="buffer"):this.ws.binaryType="arraybuffer",this.addEventListeners()}},t.prototype.addEventListeners=function(){var t=this;this.ws.onopen=function(){t.onOpen()},this.ws.onclose=function(){t.onClose()},this.ws.onmessage=function(e){t.onData(e.data)},this.ws.onerror=function(e){t.onError("websocket error",e)}},"undefined"!=typeof navigator&&/iPad|iPhone|iPod/i.test(navigator.userAgent)&&(t.prototype.onData=function(e){var t=this;setTimeout(function(){n.prototype.onData.call(t,e)},0)}),t.prototype.write=function(e){var i=this;this.writable=!1;for(var o=e.length,t=0,n=o;t<n;t++)!function(n){a.encodePacket(n,i.supportsBinary,function(e){if(!d){var t={};if(n.options&&(t.compress=n.options.compress),i.perMessageDeflate)("string"==typeof e?s.Buffer.byteLength(e):e.length)<i.perMessageDeflate.threshold&&(t.compress=!1)}try{d?i.ws.send(e):i.ws.send(e,t)}catch(e){c("websocket closed before onclose event")}--o||r()})}(e[t]);function r(){i.emit("flush"),setTimeout(function(){i.writable=!0,i.emit("drain")},0)}},t.prototype.onClose=function(){n.prototype.onClose.call(this)},t.prototype.doClose=function(){void 0!==this.ws&&this.ws.close()},t.prototype.uri=function(){var e=this.query||{},t=this.secure?"wss":"ws",n="";return this.port&&("wss"==t&&443!=this.port||"ws"==t&&80!=this.port)&&(n=":"+this.port),this.timestampRequests&&(e[this.timestampParam]=o()),this.supportsBinary||(e.b64=1),(e=i.encode(e)).length&&(e="?"+e),t+"://"+(-1!==this.hostname.indexOf(":")?"["+this.hostname+"]":this.hostname)+n+this.path+e},t.prototype.check=function(){return!(!r||"__initialize"in r&&this.name===t.prototype.name)}}).call(this,"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{})},{"../transport":4,"component-inherit":16,debug:17,"engine.io-parser":19,parseqs:27,ws:void 0,yeast:30}],10:[function(e,t,n){var o=e("has-cors");t.exports=function(e){var t=e.xdomain,n=e.xscheme,i=e.enablesXDR;try{if("undefined"!=typeof XMLHttpRequest&&(!t||o))return new XMLHttpRequest}catch(e){}try{if("undefined"!=typeof XDomainRequest&&!n&&i)return new XDomainRequest}catch(e){}if(!t)try{return new ActiveXObject("Microsoft.XMLHTTP")}catch(e){}}},{"has-cors":22}],11:[function(e,t,n){function s(){}t.exports=function(e,n,i){var o=!1;return i=i||s,0===(r.count=e)?n():r;function r(e,t){if(r.count<=0)throw new Error("after called too many times");--r.count,e?(o=!0,n(e),n=i):0!==r.count||o||n(null,t)}}},{}],12:[function(e,t,n){t.exports=function(e,t,n){var i=e.byteLength;if(t=t||0,n=n||i,e.slice)return e.slice(t,n);if(t<0&&(t+=i),n<0&&(n+=i),i<n&&(n=i),i<=t||n<=t||0===i)return new ArrayBuffer(0);for(var o=new Uint8Array(e),r=new Uint8Array(n-t),s=t,a=0;s<n;s++,a++)r[a]=o[s];return r.buffer}},{}],13:[function(e,t,n){!function(u){"use strict";n.encode=function(e){var t,n=new Uint8Array(e),i=n.length,o="";for(t=0;t<i;t+=3)o+=u[n[t]>>2],o+=u[(3&n[t])<<4|n[t+1]>>4],o+=u[(15&n[t+1])<<2|n[t+2]>>6],o+=u[63&n[t+2]];return i%3==2?o=o.substring(0,o.length-1)+"=":i%3==1&&(o=o.substring(0,o.length-2)+"=="),o},n.decode=function(e){var t,n,i,o,r,s=.75*e.length,a=e.length,c=0;"="===e[e.length-1]&&(s--,"="===e[e.length-2]&&s--);var d=new ArrayBuffer(s),l=new Uint8Array(d);for(t=0;t<a;t+=4)n=u.indexOf(e[t]),i=u.indexOf(e[t+1]),o=u.indexOf(e[t+2]),r=u.indexOf(e[t+3]),l[c++]=n<<2|i>>4,l[c++]=(15&i)<<4|o>>2,l[c++]=(3&o)<<6|63&r;return d}}("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/")},{}],14:[function(e,c,t){(function(e){var o=e.BlobBuilder||e.WebKitBlobBuilder||e.MSBlobBuilder||e.MozBlobBuilder,t=function(){try{return 2===new Blob(["hi"]).size}catch(e){return!1}}(),n=t&&function(){try{return 2===new Blob([new Uint8Array([1,2])]).size}catch(e){return!1}}(),i=o&&o.prototype.append&&o.prototype.getBlob;function r(e){for(var t=0;t<e.length;t++){var n=e[t];if(n.buffer instanceof ArrayBuffer){var i=n.buffer;if(n.byteLength!==i.byteLength){var o=new Uint8Array(n.byteLength);o.set(new Uint8Array(i,n.byteOffset,n.byteLength)),i=o.buffer}e[t]=i}}}function s(e,t){t=t||{};var n=new o;r(e);for(var i=0;i<e.length;i++)n.append(e[i]);return t.type?n.getBlob(t.type):n.getBlob()}function a(e,t){return r(e),new Blob(e,t||{})}c.exports=t?n?e.Blob:a:i?s:void 0}).call(this,"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{})},{}],15:[function(e,t,n){function i(e){if(e)return function(e){for(var t in i.prototype)e[t]=i.prototype[t];return e}(e)}(t.exports=i).prototype.on=i.prototype.addEventListener=function(e,t){return this._callbacks=this._callbacks||{},(this._callbacks[e]=this._callbacks[e]||[]).push(t),this},i.prototype.once=function(e,t){var n=this;function i(){n.off(e,i),t.apply(this,arguments)}return this._callbacks=this._callbacks||{},i.fn=t,this.on(e,i),this},i.prototype.off=i.prototype.removeListener=i.prototype.removeAllListeners=i.prototype.removeEventListener=function(e,t){if(this._callbacks=this._callbacks||{},0==arguments.length)return this._callbacks={},this;var n,i=this._callbacks[e];if(!i)return this;if(1==arguments.length)return delete this._callbacks[e],this;for(var o=0;o<i.length;o++)if((n=i[o])===t||n.fn===t){i.splice(o,1);break}return this},i.prototype.emit=function(e){this._callbacks=this._callbacks||{};var t=[].slice.call(arguments,1),n=this._callbacks[e];if(n)for(var i=0,o=(n=n.slice(0)).length;i<o;++i)n[i].apply(this,t);return this},i.prototype.listeners=function(e){return this._callbacks=this._callbacks||{},this._callbacks[e]||[]},i.prototype.hasListeners=function(e){return!!this.listeners(e).length}},{}],16:[function(e,t,n){t.exports=function(e,t){function n(){}n.prototype=t.prototype,e.prototype=new n,e.prototype.constructor=e}},{}],17:[function(e,t,r){function n(){var e;try{e=r.storage.debug}catch(e){}return e}(r=t.exports=e("./debug")).log=function(){return"object"==typeof console&&console.log&&Function.prototype.apply.call(console.log,console,arguments)},r.formatArgs=function(){var e=arguments,t=this.useColors;if(e[0]=(t?"%c":"")+this.namespace+(t?" %c":" ")+e[0]+(t?"%c ":" ")+"+"+r.humanize(this.diff),!t)return e;var n="color: "+this.color;e=[e[0],n,"color: inherit"].concat(Array.prototype.slice.call(e,1));var i=0,o=0;return e[0].replace(/%[a-z%]/g,function(e){"%%"!==e&&(i++,"%c"===e&&(o=i))}),e.splice(o,0,n),e},r.save=function(e){try{null==e?r.storage.removeItem("debug"):r.storage.debug=e}catch(e){}},r.load=n,r.useColors=function(){return"WebkitAppearance"in document.documentElement.style||window.console&&(console.firebug||console.exception&&console.table)||navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&31<=parseInt(RegExp.$1,10)},r.storage="undefined"!=typeof chrome&&void 0!==chrome.storage?chrome.storage.local:function(){try{return window.localStorage}catch(e){}}(),r.colors=["lightseagreen","forestgreen","goldenrod","dodgerblue","darkorchid","crimson"],r.formatters.j=function(e){return JSON.stringify(e)},r.enable(n())},{"./debug":18}],18:[function(e,t,a){(a=t.exports=function(e){function t(){}function n(){var o=n,e=+new Date,t=e-(c||e);o.diff=t,o.prev=c,o.curr=e,c=e,null==o.useColors&&(o.useColors=a.useColors()),null==o.color&&o.useColors&&(o.color=a.colors[d++%a.colors.length]);var r=Array.prototype.slice.call(arguments);r[0]=a.coerce(r[0]),"string"!=typeof r[0]&&(r=["%o"].concat(r));var s=0;r[0]=r[0].replace(/%([a-z%])/g,function(e,t){if("%%"===e)return e;s++;var n=a.formatters[t];if("function"==typeof n){var i=r[s];e=n.call(o,i),r.splice(s,1),s--}return e}),"function"==typeof a.formatArgs&&(r=a.formatArgs.apply(o,r)),(n.log||a.log||console.log.bind(console)).apply(o,r)}t.enabled=!1,n.enabled=!0;var i=a.enabled(e)?n:t;return i.namespace=e,i}).coerce=function(e){return e instanceof Error?e.stack||e.message:e},a.disable=function(){a.enable("")},a.enable=function(e){a.save(e);for(var t=(e||"").split(/[\s,]+/),n=t.length,i=0;i<n;i++)t[i]&&("-"===(e=t[i].replace(/\*/g,".*?"))[0]?a.skips.push(new RegExp("^"+e.substr(1)+"$")):a.names.push(new RegExp("^"+e+"$")))},a.enabled=function(e){var t,n;for(t=0,n=a.skips.length;t<n;t++)if(a.skips[t].test(e))return!1;for(t=0,n=a.names.length;t<n;t++)if(a.names[t].test(e))return!0;return!1},a.humanize=e("ms"),a.names=[],a.skips=[],a.formatters={};var c,d=0},{ms:25}],19:[function(m,e,g){(function(d){var e=m("./keys"),t=m("has-binary"),h=m("arraybuffer.slice"),o=m("base64-arraybuffer"),a=m("after"),s=m("utf8"),n=navigator.userAgent.match(/Android/i),i=/PhantomJS/i.test(navigator.userAgent),c=n||i;g.protocol=3;var l=g.packets={open:0,close:1,ping:2,pong:3,message:4,upgrade:5,noop:6},r=e(l),p={type:"error",data:"parser error"},u=m("blob");function f(e,t,n){function i(n,e,i){t(e,function(e,t){o[n]=t,i(e,o)})}for(var o=new Array(e.length),r=a(e.length,n),s=0;s<e.length;s++)i(s,e[s],r)}g.encodePacket=function(e,t,n,i){"function"==typeof t&&(i=t,t=!1),"function"==typeof n&&(i=n,n=null);var o=void 0===e.data?void 0:e.data.buffer||e.data;if(d.ArrayBuffer&&o instanceof ArrayBuffer)return function(e,t,n){if(!t)return g.encodeBase64Packet(e,n);var i=e.data,o=new Uint8Array(i),r=new Uint8Array(1+i.byteLength);r[0]=l[e.type];for(var s=0;s<o.length;s++)r[s+1]=o[s];return n(r.buffer)}(e,t,i);if(u&&o instanceof d.Blob)return function(e,t,n){if(!t)return g.encodeBase64Packet(e,n);if(c)return function(e,t,n){if(!t)return g.encodeBase64Packet(e,n);var i=new FileReader;return i.onload=function(){e.data=i.result,g.encodePacket(e,t,!0,n)},i.readAsArrayBuffer(e.data)}(e,t,n);var i=new Uint8Array(1);i[0]=l[e.type];var o=new u([i.buffer,e.data]);return n(o)}(e,t,i);if(o&&o.base64)return function(e,t){var n="b"+g.packets[e.type]+e.data.data;return t(n)}(e,i);var r=l[e.type];return void 0!==e.data&&(r+=n?s.encode(String(e.data)):String(e.data)),i(""+r)},g.encodeBase64Packet=function(t,n){var i,o="b"+g.packets[t.type];if(u&&t.data instanceof d.Blob){var r=new FileReader;return r.onload=function(){var e=r.result.split(",")[1];n(o+e)},r.readAsDataURL(t.data)}try{i=String.fromCharCode.apply(null,new Uint8Array(t.data))}catch(e){for(var s=new Uint8Array(t.data),a=new Array(s.length),c=0;c<s.length;c++)a[c]=s[c];i=String.fromCharCode.apply(null,a)}return o+=d.btoa(i),n(o)},g.decodePacket=function(e,t,n){if("string"==typeof e||void 0===e){if("b"==e.charAt(0))return g.decodeBase64Packet(e.substr(1),t);if(n)try{e=s.decode(e)}catch(e){return p}var i=e.charAt(0);return Number(i)==i&&r[i]?1<e.length?{type:r[i],data:e.substring(1)}:{type:r[i]}:p}i=new Uint8Array(e)[0];var o=h(e,1);return u&&"blob"===t&&(o=new u([o])),{type:r[i],data:o}},g.decodeBase64Packet=function(e,t){var n=r[e.charAt(0)];if(!d.ArrayBuffer)return{type:n,data:{base64:!0,data:e.substr(1)}};var i=o.decode(e.substr(1));return"blob"===t&&u&&(i=new u([i])),{type:n,data:i}},g.encodePayload=function(e,n,i){"function"==typeof n&&(i=n,n=null);var o=t(e);if(n&&o)return u&&!c?g.encodePayloadAsBlob(e,i):g.encodePayloadAsArrayBuffer(e,i);if(!e.length)return i("0:");f(e,function(e,t){g.encodePacket(e,!!o&&n,!0,function(e){t(null,function(e){return e.length+":"+e}(e))})},function(e,t){return i(t.join(""))})},g.decodePayload=function(e,t,n){if("string"!=typeof e)return g.decodePayloadAsBinary(e,t,n);var i;if("function"==typeof t&&(n=t,t=null),""==e)return n(p,0,1);for(var o,r,s="",a=0,c=e.length;a<c;a++){var d=e.charAt(a);if(":"!=d)s+=d;else{if(""==s||s!=(o=Number(s)))return n(p,0,1);if(s!=(r=e.substr(a+1,o)).length)return n(p,0,1);if(r.length){if(i=g.decodePacket(r,t,!0),p.type==i.type&&p.data==i.data)return n(p,0,1);if(!1===n(i,a+o,c))return}a+=o,s=""}}return""!=s?n(p,0,1):void 0},g.encodePayloadAsArrayBuffer=function(e,i){if(!e.length)return i(new ArrayBuffer(0));f(e,function(e,t){g.encodePacket(e,!0,!0,function(e){return t(null,e)})},function(e,t){var n=t.reduce(function(e,t){var n;return e+(n="string"==typeof t?t.length:t.byteLength).toString().length+n+2},0),s=new Uint8Array(n),a=0;return t.forEach(function(e){var t="string"==typeof e,n=e;if(t){for(var i=new Uint8Array(e.length),o=0;o<e.length;o++)i[o]=e.charCodeAt(o);n=i.buffer}s[a++]=t?0:1;var r=n.byteLength.toString();for(o=0;o<r.length;o++)s[a++]=parseInt(r[o]);s[a++]=255;for(i=new Uint8Array(n),o=0;o<i.length;o++)s[a++]=i[o]}),i(s.buffer)})},g.encodePayloadAsBlob=function(e,n){f(e,function(e,a){g.encodePacket(e,!0,!0,function(e){var t=new Uint8Array(1);if(t[0]=1,"string"==typeof e){for(var n=new Uint8Array(e.length),i=0;i<e.length;i++)n[i]=e.charCodeAt(i);e=n.buffer,t[0]=0}var o=(e instanceof ArrayBuffer?e.byteLength:e.size).toString(),r=new Uint8Array(o.length+1);for(i=0;i<o.length;i++)r[i]=parseInt(o[i]);if(r[o.length]=255,u){var s=new u([t.buffer,r.buffer,e]);a(null,s)}})},function(e,t){return n(new u(t))})},g.decodePayloadAsBinary=function(e,n,i){"function"==typeof n&&(i=n,n=null);for(var t=e,o=[],r=!1;0<t.byteLength;){for(var s=new Uint8Array(t),a=0===s[0],c="",d=1;255!=s[d];d++){if(310<c.length){r=!0;break}c+=s[d]}if(r)return i(p,0,1);t=h(t,2+c.length),c=parseInt(c);var l=h(t,0,c);if(a)try{l=String.fromCharCode.apply(null,new Uint8Array(l))}catch(e){var u=new Uint8Array(l);l="";for(d=0;d<u.length;d++)l+=String.fromCharCode(u[d])}o.push(l),t=h(t,c)}var f=o.length;o.forEach(function(e,t){i(g.decodePacket(e,n,!0),t,f)})}}).call(this,"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{})},{"./keys":20,after:11,"arraybuffer.slice":12,"base64-arraybuffer":13,blob:14,"has-binary":21,utf8:29}],20:[function(e,t,n){t.exports=Object.keys||function(e){var t=[],n=Object.prototype.hasOwnProperty;for(var i in e)n.call(e,i)&&t.push(i);return t}},{}],21:[function(e,t,n){(function(o){var r=e("isarray");t.exports=function(e){return function e(t){if(!t)return!1;if(o.Buffer&&o.Buffer.isBuffer(t)||o.ArrayBuffer&&t instanceof ArrayBuffer||o.Blob&&t instanceof Blob||o.File&&t instanceof File)return!0;if(r(t)){for(var n=0;n<t.length;n++)if(e(t[n]))return!0}else if(t&&"object"==typeof t)for(var i in t.toJSON&&(t=t.toJSON()),t)if(Object.prototype.hasOwnProperty.call(t,i)&&e(t[i]))return!0;return!1}(e)}}).call(this,"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{})},{isarray:24}],22:[function(e,t,n){try{t.exports="undefined"!=typeof XMLHttpRequest&&"withCredentials"in new XMLHttpRequest}catch(e){t.exports=!1}},{}],23:[function(e,t,n){var i=[].indexOf;t.exports=function(e,t){if(i)return e.indexOf(t);for(var n=0;n<e.length;++n)if(e[n]===t)return n;return-1}},{}],24:[function(e,t,n){t.exports=Array.isArray||function(e){return"[object Array]"==Object.prototype.toString.call(e)}},{}],25:[function(e,t,n){var i=36e5,o=864e5;function r(e,t,n){if(!(e<t))return e<1.5*t?Math.floor(e/t)+" "+n:Math.ceil(e/t)+" "+n+"s"}t.exports=function(e,t){return t=t||{},"string"==typeof e?function(e){if(1e4<(e=""+e).length)return;var t=/^((?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|years?|yrs?|y)?$/i.exec(e);if(!t)return;var n=parseFloat(t[1]);switch((t[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return 315576e5*n;case"days":case"day":case"d":return n*o;case"hours":case"hour":case"hrs":case"hr":case"h":return n*i;case"minutes":case"minute":case"mins":case"min":case"m":return 6e4*n;case"seconds":case"second":case"secs":case"sec":case"s":return 1e3*n;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return n}}(e):t.long?function(e){return r(e,o,"day")||r(e,i,"hour")||r(e,6e4,"minute")||r(e,1e3,"second")||e+" ms"}(e):function(e){return o<=e?Math.round(e/o)+"d":i<=e?Math.round(e/i)+"h":6e4<=e?Math.round(e/6e4)+"m":1e3<=e?Math.round(e/1e3)+"s":e+"ms"}(e)}},{}],26:[function(e,c,t){(function(t){var n=/^[\],:{}\s]*$/,i=/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,o=/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,r=/(?:^|:|,)(?:\s*\[)+/g,s=/^\s+/,a=/\s+$/;c.exports=function(e){return"string"==typeof e&&e?(e=e.replace(s,"").replace(a,""),t.JSON&&JSON.parse?JSON.parse(e):n.test(e.replace(i,"@").replace(o,"]").replace(r,""))?new Function("return "+e)():void 0):null}}).call(this,"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{})},{}],27:[function(e,t,n){n.encode=function(e){var t="";for(var n in e)e.hasOwnProperty(n)&&(t.length&&(t+="&"),t+=encodeURIComponent(n)+"="+encodeURIComponent(e[n]));return t},n.decode=function(e){for(var t={},n=e.split("&"),i=0,o=n.length;i<o;i++){var r=n[i].split("=");t[decodeURIComponent(r[0])]=decodeURIComponent(r[1])}return t}},{}],28:[function(e,t,n){var a=/^(?:(?![^:@]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,c=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];t.exports=function(e){var t=e,n=e.indexOf("["),i=e.indexOf("]");-1!=n&&-1!=i&&(e=e.substring(0,n)+e.substring(n,i).replace(/:/g,";")+e.substring(i,e.length));for(var o=a.exec(e||""),r={},s=14;s--;)r[c[s]]=o[s]||"";return-1!=n&&-1!=i&&(r.source=t,r.host=r.host.substring(1,r.host.length-1).replace(/;/g,":"),r.authority=r.authority.replace("[","").replace("]","").replace(/;/g,":"),r.ipv6uri=!0),r}},{}],29:[function(e,y,_){(function(v){!function(e){var t="object"==typeof _&&_,n="object"==typeof y&&y&&y.exports==t&&y,i="object"==typeof v&&v;i.global!==i&&i.window!==i||(e=i);var o,r,s,a=String.fromCharCode;function c(e){for(var t,n,i=[],o=0,r=e.length;o<r;)55296<=(t=e.charCodeAt(o++))&&t<=56319&&o<r?56320==(64512&(n=e.charCodeAt(o++)))?i.push(((1023&t)<<10)+(1023&n)+65536):(i.push(t),o--):i.push(t);return i}function d(e){if(55296<=e&&e<=57343)throw Error("Lone surrogate U+"+e.toString(16).toUpperCase()+" is not a scalar value")}function l(e,t){return a(e>>t&63|128)}function u(e){if(0==(4294967168&e))return a(e);var t="";return 0==(4294965248&e)?t=a(e>>6&31|192):0==(4294901760&e)?(d(e),t=a(e>>12&15|224),t+=l(e,6)):0==(4292870144&e)&&(t=a(e>>18&7|240),t+=l(e,12),t+=l(e,6)),t+=a(63&e|128)}function f(){if(r<=s)throw Error("Invalid byte index");var e=255&o[s];if(s++,128==(192&e))return 63&e;throw Error("Invalid continuation byte")}function h(){var e,t;if(r<s)throw Error("Invalid byte index");if(s==r)return!1;if(e=255&o[s],s++,0==(128&e))return e;if(192==(224&e)){if(128<=(t=(31&e)<<6|f()))return t;throw Error("Invalid continuation byte")}if(224==(240&e)){if(2048<=(t=(15&e)<<12|f()<<6|f()))return d(t),t;throw Error("Invalid continuation byte")}if(240==(248&e)&&65536<=(t=(15&e)<<18|f()<<12|f()<<6|f())&&t<=1114111)return t;throw Error("Invalid UTF-8 detected")}var p={version:"2.0.0",encode:function(e){for(var t=c(e),n=t.length,i=-1,o="";++i<n;)o+=u(t[i]);return o},decode:function(e){o=c(e),r=o.length,s=0;for(var t,n=[];!1!==(t=h());)n.push(t);return function(e){for(var t,n=e.length,i=-1,o="";++i<n;)65535<(t=e[i])&&(o+=a((t-=65536)>>>10&1023|55296),t=56320|1023&t),o+=a(t);return o}(n)}};if(t&&!t.nodeType)if(n)n.exports=p;else{var m={}.hasOwnProperty;for(var g in p)m.call(p,g)&&(t[g]=p[g])}else e.utf8=p}(this)}).call(this,"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{})},{}],30:[function(e,t,n){"use strict";var i,o="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz-_".split(""),r=64,s={},a=0,c=0;function d(e){for(var t="";t=o[e%r]+t,0<(e=Math.floor(e/r)););return t}function l(){var e=d(+new Date);return e!==i?(a=0,i=e):e+"."+d(a++)}for(;c<r;c++)s[o[c]]=c;l.encode=d,l.decode=function(e){var t=0;for(c=0;c<e.length;c++)t=t*r+s[e.charAt(c)];return t},t.exports=l},{}],31:[function(e,t,n){var a=e("./url"),i=e("socket.io-parser"),c=e("./manager"),d=e("debug")("socket.io-client");t.exports=n=o;var l=n.managers={};function o(e,t){"object"==typeof e&&(t=e,e=void 0),t=t||{};var n=a(e),i=n.source,o=n.id,r=n.path,s=l[o]&&r in l[o].nsps;return(t.forceNew||t["force new connection"]||!1===t.multiplex||s?(d("ignoring socket cache for %s",i),c(i,t)):(l[o]||(d("new io instance for %s",i),l[o]=c(i,t)),l[o])).socket(n.path)}n.protocol=i.protocol,n.connect=o,n.Manager=e("./manager"),n.Socket=e("./socket")},{"./manager":32,"./socket":34,"./url":35,debug:39,"socket.io-parser":47}],32:[function(e,t,n){var a=e("engine.io-client"),o=e("./socket"),i=e("component-emitter"),r=e("socket.io-parser"),c=e("./on"),s=e("component-bind"),d=e("debug")("socket.io-client:manager"),l=e("indexof"),u=e("backo2"),f=Object.prototype.hasOwnProperty;function h(e,t){if(!(this instanceof h))return new h(e,t);e&&"object"==typeof e&&(t=e,e=void 0),(t=t||{}).path=t.path||"/socket.io",this.nsps={},this.subs=[],this.opts=t,this.reconnection(!1!==t.reconnection),this.reconnectionAttempts(t.reconnectionAttempts||1/0),this.reconnectionDelay(t.reconnectionDelay||1e3),this.reconnectionDelayMax(t.reconnectionDelayMax||5e3),this.randomizationFactor(t.randomizationFactor||.5),this.backoff=new u({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(null==t.timeout?2e4:t.timeout),this.readyState="closed",this.uri=e,this.connecting=[],this.lastPing=null,this.encoding=!1,this.packetBuffer=[],this.encoder=new r.Encoder,this.decoder=new r.Decoder,this.autoConnect=!1!==t.autoConnect,this.autoConnect&&this.open()}(t.exports=h).prototype.emitAll=function(){for(var e in this.emit.apply(this,arguments),this.nsps)f.call(this.nsps,e)&&this.nsps[e].emit.apply(this.nsps[e],arguments)},h.prototype.updateSocketIds=function(){for(var e in this.nsps)f.call(this.nsps,e)&&(this.nsps[e].id=this.engine.id)},i(h.prototype),h.prototype.reconnection=function(e){return arguments.length?(this._reconnection=!!e,this):this._reconnection},h.prototype.reconnectionAttempts=function(e){return arguments.length?(this._reconnectionAttempts=e,this):this._reconnectionAttempts},h.prototype.reconnectionDelay=function(e){return arguments.length?(this._reconnectionDelay=e,this.backoff&&this.backoff.setMin(e),this):this._reconnectionDelay},h.prototype.randomizationFactor=function(e){return arguments.length?(this._randomizationFactor=e,this.backoff&&this.backoff.setJitter(e),this):this._randomizationFactor},h.prototype.reconnectionDelayMax=function(e){return arguments.length?(this._reconnectionDelayMax=e,this.backoff&&this.backoff.setMax(e),this):this._reconnectionDelayMax},h.prototype.timeout=function(e){return arguments.length?(this._timeout=e,this):this._timeout},h.prototype.maybeReconnectOnOpen=function(){!this.reconnecting&&this._reconnection&&0===this.backoff.attempts&&this.reconnect()},h.prototype.open=h.prototype.connect=function(n){if(d("readyState %s",this.readyState),~this.readyState.indexOf("open"))return this;d("opening %s",this.uri),this.engine=a(this.uri,this.opts);var e=this.engine,i=this;this.readyState="opening",this.skipReconnect=!1;var t=c(e,"open",function(){i.onopen(),n&&n()}),o=c(e,"error",function(e){if(d("connect_error"),i.cleanup(),i.readyState="closed",i.emitAll("connect_error",e),n){var t=new Error("Connection error");t.data=e,n(t)}else i.maybeReconnectOnOpen()});if(!1!==this._timeout){var r=this._timeout;d("connect attempt will timeout after %d",r);var s=setTimeout(function(){d("connect attempt timed out after %d",r),t.destroy(),e.close(),e.emit("error","timeout"),i.emitAll("connect_timeout",r)},r);this.subs.push({destroy:function(){clearTimeout(s)}})}return this.subs.push(t),this.subs.push(o),this},h.prototype.onopen=function(){d("open"),this.cleanup(),this.readyState="open",this.emit("open");var e=this.engine;this.subs.push(c(e,"data",s(this,"ondata"))),this.subs.push(c(e,"ping",s(this,"onping"))),this.subs.push(c(e,"pong",s(this,"onpong"))),this.subs.push(c(e,"error",s(this,"onerror"))),this.subs.push(c(e,"close",s(this,"onclose"))),this.subs.push(c(this.decoder,"decoded",s(this,"ondecoded")))},h.prototype.onping=function(){this.lastPing=new Date,this.emitAll("ping")},h.prototype.onpong=function(){this.emitAll("pong",new Date-this.lastPing)},h.prototype.ondata=function(e){this.decoder.add(e)},h.prototype.ondecoded=function(e){this.emit("packet",e)},h.prototype.onerror=function(e){d("error",e),this.emitAll("error",e)},h.prototype.socket=function(e){var t=this.nsps[e];if(!t){t=new o(this,e),this.nsps[e]=t;var n=this;t.on("connecting",i),t.on("connect",function(){t.id=n.engine.id}),this.autoConnect&&i()}function i(){~l(n.connecting,t)||n.connecting.push(t)}return t},h.prototype.destroy=function(e){var t=l(this.connecting,e);~t&&this.connecting.splice(t,1),this.connecting.length||this.close()},h.prototype.packet=function(n){d("writing packet %j",n);var i=this;i.encoding?i.packetBuffer.push(n):(i.encoding=!0,this.encoder.encode(n,function(e){for(var t=0;t<e.length;t++)i.engine.write(e[t],n.options);i.encoding=!1,i.processPacketQueue()}))},h.prototype.processPacketQueue=function(){if(0<this.packetBuffer.length&&!this.encoding){var e=this.packetBuffer.shift();this.packet(e)}},h.prototype.cleanup=function(){var e;for(d("cleanup");e=this.subs.shift();)e.destroy();this.packetBuffer=[],this.encoding=!1,this.lastPing=null,this.decoder.destroy()},h.prototype.close=h.prototype.disconnect=function(){d("disconnect"),this.skipReconnect=!0,this.reconnecting=!1,"opening"==this.readyState&&this.cleanup(),this.backoff.reset(),this.readyState="closed",this.engine&&this.engine.close()},h.prototype.onclose=function(e){d("onclose"),this.cleanup(),this.backoff.reset(),this.readyState="closed",this.emit("close",e),this._reconnection&&!this.skipReconnect&&this.reconnect()},h.prototype.reconnect=function(){if(this.reconnecting||this.skipReconnect)return this;var t=this;if(this.backoff.attempts>=this._reconnectionAttempts)d("reconnect failed"),this.backoff.reset(),this.emitAll("reconnect_failed"),this.reconnecting=!1;else{var e=this.backoff.duration();d("will wait %dms before reconnect attempt",e),this.reconnecting=!0;var n=setTimeout(function(){t.skipReconnect||(d("attempting reconnect"),t.emitAll("reconnect_attempt",t.backoff.attempts),t.emitAll("reconnecting",t.backoff.attempts),t.skipReconnect||t.open(function(e){e?(d("reconnect attempt error"),t.reconnecting=!1,t.reconnect(),t.emitAll("reconnect_error",e.data)):(d("reconnect success"),t.onreconnect())}))},e);this.subs.push({destroy:function(){clearTimeout(n)}})}},h.prototype.onreconnect=function(){var e=this.backoff.attempts;this.reconnecting=!1,this.backoff.reset(),this.updateSocketIds(),this.emitAll("reconnect",e)}},{"./on":33,"./socket":34,backo2:36,"component-bind":37,"component-emitter":38,debug:39,"engine.io-client":1,indexof:42,"socket.io-parser":47}],33:[function(e,t,n){t.exports=function(e,t,n){return e.on(t,n),{destroy:function(){e.removeListener(t,n)}}}},{}],34:[function(e,t,n){var r=e("socket.io-parser"),i=e("component-emitter"),s=e("to-array"),o=e("./on"),a=e("component-bind"),c=e("debug")("socket.io-client:socket"),d=e("has-binary");t.exports=f;var l={connect:1,connect_error:1,connect_timeout:1,connecting:1,disconnect:1,error:1,reconnect:1,reconnect_attempt:1,reconnect_failed:1,reconnect_error:1,reconnecting:1,ping:1,pong:1},u=i.prototype.emit;function f(e,t){this.io=e,this.nsp=t,(this.json=this).ids=0,this.acks={},this.receiveBuffer=[],this.sendBuffer=[],this.connected=!1,this.disconnected=!0,this.io.autoConnect&&this.open()}i(f.prototype),f.prototype.subEvents=function(){if(!this.subs){var e=this.io;this.subs=[o(e,"open",a(this,"onopen")),o(e,"packet",a(this,"onpacket")),o(e,"close",a(this,"onclose"))]}},f.prototype.open=f.prototype.connect=function(){return this.connected||(this.subEvents(),this.io.open(),"open"==this.io.readyState&&this.onopen(),this.emit("connecting")),this},f.prototype.send=function(){var e=s(arguments);return e.unshift("message"),this.emit.apply(this,e),this},f.prototype.emit=function(e){if(l.hasOwnProperty(e))return u.apply(this,arguments),this;var t=s(arguments),n=r.EVENT;d(t)&&(n=r.BINARY_EVENT);var i={type:n,data:t,options:{}};return i.options.compress=!this.flags||!1!==this.flags.compress,"function"==typeof t[t.length-1]&&(c("emitting packet with ack id %d",this.ids),this.acks[this.ids]=t.pop(),i.id=this.ids++),this.connected?this.packet(i):this.sendBuffer.push(i),delete this.flags,this},f.prototype.packet=function(e){e.nsp=this.nsp,this.io.packet(e)},f.prototype.onopen=function(){c("transport is open - connecting"),"/"!=this.nsp&&this.packet({type:r.CONNECT})},f.prototype.onclose=function(e){c("close (%s)",e),this.connected=!1,this.disconnected=!0,delete this.id,this.emit("disconnect",e)},f.prototype.onpacket=function(e){if(e.nsp==this.nsp)switch(e.type){case r.CONNECT:this.onconnect();break;case r.EVENT:case r.BINARY_EVENT:this.onevent(e);break;case r.ACK:case r.BINARY_ACK:this.onack(e);break;case r.DISCONNECT:this.ondisconnect();break;case r.ERROR:this.emit("error",e.data)}},f.prototype.onevent=function(e){var t=e.data||[];c("emitting event %j",t),null!=e.id&&(c("attaching ack callback to event"),t.push(this.ack(e.id))),this.connected?u.apply(this,t):this.receiveBuffer.push(t)},f.prototype.ack=function(n){var i=this,o=!1;return function(){if(!o){o=!0;var e=s(arguments);c("sending ack %j",e);var t=d(e)?r.BINARY_ACK:r.ACK;i.packet({type:t,id:n,data:e})}}},f.prototype.onack=function(e){var t=this.acks[e.id];"function"==typeof t?(c("calling ack %s with %j",e.id,e.data),t.apply(this,e.data),delete this.acks[e.id]):c("bad ack %s",e.id)},f.prototype.onconnect=function(){this.connected=!0,this.disconnected=!1,this.emit("connect"),this.emitBuffered()},f.prototype.emitBuffered=function(){var e;for(e=0;e<this.receiveBuffer.length;e++)u.apply(this,this.receiveBuffer[e]);for(this.receiveBuffer=[],e=0;e<this.sendBuffer.length;e++)this.packet(this.sendBuffer[e]);this.sendBuffer=[]},f.prototype.ondisconnect=function(){c("server disconnect (%s)",this.nsp),this.destroy(),this.onclose("io server disconnect")},f.prototype.destroy=function(){if(this.subs){for(var e=0;e<this.subs.length;e++)this.subs[e].destroy();this.subs=null}this.io.destroy(this)},f.prototype.close=f.prototype.disconnect=function(){return this.connected&&(c("performing disconnect (%s)",this.nsp),this.packet({type:r.DISCONNECT})),this.destroy(),this.connected&&this.onclose("io client disconnect"),this},f.prototype.compress=function(e){return this.flags=this.flags||{},this.flags.compress=e,this}},{"./on":33,"component-bind":37,"component-emitter":38,debug:39,"has-binary":41,"socket.io-parser":47,"to-array":51}],35:[function(e,t,n){(function(o){var r=e("parseuri"),s=e("debug")("socket.io-client:url");t.exports=function(e,t){var n=e;t=t||o.location;null==e&&(e=t.protocol+"//"+t.host);"string"==typeof e&&("/"==e.charAt(0)&&(e="/"==e.charAt(1)?t.protocol+e:t.host+e),/^(https?|wss?):\/\//.test(e)||(s("protocol-less url %s",e),e=void 0!==t?t.protocol+"//"+e:"https://"+e),s("parse %s",e),n=r(e));n.port||(/^(http|ws)$/.test(n.protocol)?n.port="80":/^(http|ws)s$/.test(n.protocol)&&(n.port="443"));n.path=n.path||"/";var i=-1!==n.host.indexOf(":")?"["+n.host+"]":n.host;return n.id=n.protocol+"://"+i+":"+n.port,n.href=n.protocol+"://"+i+(t&&t.port==n.port?"":":"+n.port),n}}).call(this,"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{})},{debug:39,parseuri:45}],36:[function(e,t,n){function i(e){e=e||{},this.ms=e.min||100,this.max=e.max||1e4,this.factor=e.factor||2,this.jitter=0<e.jitter&&e.jitter<=1?e.jitter:0,this.attempts=0}(t.exports=i).prototype.duration=function(){var e=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var t=Math.random(),n=Math.floor(t*this.jitter*e);e=0==(1&Math.floor(10*t))?e-n:e+n}return 0|Math.min(e,this.max)},i.prototype.reset=function(){this.attempts=0},i.prototype.setMin=function(e){this.ms=e},i.prototype.setMax=function(e){this.max=e},i.prototype.setJitter=function(e){this.jitter=e}},{}],37:[function(e,t,n){var i=[].slice;t.exports=function(e,t){if("string"==typeof t&&(t=e[t]),"function"!=typeof t)throw new Error("bind() requires a function");var n=i.call(arguments,2);return function(){return t.apply(e,n.concat(i.call(arguments)))}}},{}],38:[function(e,t,n){function i(e){if(e)return function(e){for(var t in i.prototype)e[t]=i.prototype[t];return e}(e)}(t.exports=i).prototype.on=i.prototype.addEventListener=function(e,t){return this._callbacks=this._callbacks||{},(this._callbacks["$"+e]=this._callbacks["$"+e]||[]).push(t),this},i.prototype.once=function(e,t){function n(){this.off(e,n),t.apply(this,arguments)}return n.fn=t,this.on(e,n),this},i.prototype.off=i.prototype.removeListener=i.prototype.removeAllListeners=i.prototype.removeEventListener=function(e,t){if(this._callbacks=this._callbacks||{},0==arguments.length)return this._callbacks={},this;var n,i=this._callbacks["$"+e];if(!i)return this;if(1==arguments.length)return delete this._callbacks["$"+e],this;for(var o=0;o<i.length;o++)if((n=i[o])===t||n.fn===t){i.splice(o,1);break}return this},i.prototype.emit=function(e){this._callbacks=this._callbacks||{};var t=[].slice.call(arguments,1),n=this._callbacks["$"+e];if(n)for(var i=0,o=(n=n.slice(0)).length;i<o;++i)n[i].apply(this,t);return this},i.prototype.listeners=function(e){return this._callbacks=this._callbacks||{},this._callbacks["$"+e]||[]},i.prototype.hasListeners=function(e){return!!this.listeners(e).length}},{}],39:[function(e,t,n){arguments[4][17][0].apply(n,arguments)},{"./debug":40,dup:17}],40:[function(e,t,n){arguments[4][18][0].apply(n,arguments)},{dup:18,ms:44}],41:[function(e,t,n){(function(o){var r=e("isarray");t.exports=function(e){return function e(t){if(!t)return!1;if(o.Buffer&&o.Buffer.isBuffer&&o.Buffer.isBuffer(t)||o.ArrayBuffer&&t instanceof ArrayBuffer||o.Blob&&t instanceof Blob||o.File&&t instanceof File)return!0;if(r(t)){for(var n=0;n<t.length;n++)if(e(t[n]))return!0}else if(t&&"object"==typeof t)for(var i in t.toJSON&&"function"==typeof t.toJSON&&(t=t.toJSON()),t)if(Object.prototype.hasOwnProperty.call(t,i)&&e(t[i]))return!0;return!1}(e)}}).call(this,"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{})},{isarray:43}],42:[function(e,t,n){arguments[4][23][0].apply(n,arguments)},{dup:23}],43:[function(e,t,n){arguments[4][24][0].apply(n,arguments)},{dup:24}],44:[function(e,t,n){arguments[4][25][0].apply(n,arguments)},{dup:25}],45:[function(e,t,n){arguments[4][28][0].apply(n,arguments)},{dup:28}],46:[function(e,t,n){(function(l){var u=e("isarray"),f=e("./is-buffer");n.deconstructPacket=function(e){var s=[],t=e.data;var n=e;return n.data=function e(t){if(!t)return t;if(f(t)){var n={_placeholder:!0,num:s.length};return s.push(t),n}if(u(t)){for(var i=new Array(t.length),o=0;o<t.length;o++)i[o]=e(t[o]);return i}if("object"!=typeof t||t instanceof Date)return t;i={};for(var r in t)i[r]=e(t[r]);return i}(t),n.attachments=s.length,{packet:n,buffers:s}},n.reconstructPacket=function(e,o){return e.data=function e(t){if(t&&t._placeholder)return o[t.num];if(u(t)){for(var n=0;n<t.length;n++)t[n]=e(t[n]);return t}if(t&&"object"==typeof t){for(var i in t)t[i]=e(t[i]);return t}return t}(e.data),e.attachments=void 0,e},n.removeBlobs=function(e,a){var c=0,d=e;!function e(t,n,i){if(!t)return t;if(l.Blob&&t instanceof Blob||l.File&&t instanceof File){c++;var o=new FileReader;o.onload=function(){i?i[n]=this.result:d=this.result,--c||a(d)},o.readAsArrayBuffer(t)}else if(u(t))for(var r=0;r<t.length;r++)e(t[r],r,t);else if(t&&"object"==typeof t&&!f(t))for(var s in t)e(t[s],s,t)}(d),c||a(d)}}).call(this,"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{})},{"./is-buffer":48,isarray:43}],47:[function(e,t,s){var a=e("debug")("socket.io-parser"),c=e("json3"),n=(e("isarray"),e("component-emitter")),r=e("./binary"),i=e("./is-buffer");function o(){}function d(e){var t="",n=!1;return t+=e.type,s.BINARY_EVENT!=e.type&&s.BINARY_ACK!=e.type||(t+=e.attachments,t+="-"),e.nsp&&"/"!=e.nsp&&(n=!0,t+=e.nsp),null!=e.id&&(n&&(t+=",",n=!1),t+=e.id),null!=e.data&&(n&&(t+=","),t+=c.stringify(e.data)),a("encoded %j as %s",e,t),t}function l(){this.reconstructor=null}function u(e){this.reconPack=e,this.buffers=[]}function f(){return{type:s.ERROR,data:"parser error"}}s.protocol=4,s.types=["CONNECT","DISCONNECT","EVENT","BINARY_EVENT","ACK","BINARY_ACK","ERROR"],s.CONNECT=0,s.DISCONNECT=1,s.EVENT=2,s.ACK=3,s.ERROR=4,s.BINARY_EVENT=5,s.BINARY_ACK=6,s.Encoder=o,s.Decoder=l,o.prototype.encode=function(e,t){(a("encoding packet %j",e),s.BINARY_EVENT==e.type||s.BINARY_ACK==e.type)?function(e,o){r.removeBlobs(e,function(e){var t=r.deconstructPacket(e),n=d(t.packet),i=t.buffers;i.unshift(n),o(i)})}(e,t):t([d(e)])},n(l.prototype),l.prototype.add=function(e){var t;if("string"==typeof e)t=function(e){var t={},n=0;if(t.type=Number(e.charAt(0)),null==s.types[t.type])return f();if(s.BINARY_EVENT==t.type||s.BINARY_ACK==t.type){for(var i="";"-"!=e.charAt(++n)&&(i+=e.charAt(n),n!=e.length););if(i!=Number(i)||"-"!=e.charAt(n))throw new Error("Illegal attachments");t.attachments=Number(i)}if("/"==e.charAt(n+1))for(t.nsp="";++n;){if(","==(r=e.charAt(n)))break;if(t.nsp+=r,n==e.length)break}else t.nsp="/";var o=e.charAt(n+1);if(""!==o&&Number(o)==o){for(t.id="";++n;){var r;if(null==(r=e.charAt(n))||Number(r)!=r){--n;break}if(t.id+=e.charAt(n),n==e.length)break}t.id=Number(t.id)}if(e.charAt(++n))try{t.data=c.parse(e.substr(n))}catch(e){return f()}return a("decoded %s as %j",e,t),t}(e),s.BINARY_EVENT==t.type||s.BINARY_ACK==t.type?(this.reconstructor=new u(t),0===this.reconstructor.reconPack.attachments&&this.emit("decoded",t)):this.emit("decoded",t);else{if(!i(e)&&!e.base64)throw new Error("Unknown type: "+e);if(!this.reconstructor)throw new Error("got binary data when not reconstructing a packet");(t=this.reconstructor.takeBinaryData(e))&&(this.reconstructor=null,this.emit("decoded",t))}},l.prototype.destroy=function(){this.reconstructor&&this.reconstructor.finishedReconstruction()},u.prototype.takeBinaryData=function(e){if(this.buffers.push(e),this.buffers.length!=this.reconPack.attachments)return null;var t=r.reconstructPacket(this.reconPack,this.buffers);return this.finishedReconstruction(),t},u.prototype.finishedReconstruction=function(){this.reconPack=null,this.buffers=[]}},{"./binary":46,"./is-buffer":48,"component-emitter":49,debug:39,isarray:43,json3:50}],48:[function(e,n,t){(function(t){n.exports=function(e){return t.Buffer&&t.Buffer.isBuffer(e)||t.ArrayBuffer&&e instanceof ArrayBuffer}}).call(this,"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{})},{}],49:[function(e,t,n){arguments[4][15][0].apply(n,arguments)},{dup:15}],50:[function(e,a,c){(function(s){(function(){var L={function:!0,object:!0},e=L[typeof c]&&c&&!c.nodeType&&c,R=L[typeof window]&&window||this,t=e&&L[typeof a]&&a&&!a.nodeType&&"object"==typeof s&&s;function z(e,c){e=e||R.Object(),c=c||R.Object();var d=e.Number||R.Number,l=e.String||R.String,t=e.Object||R.Object,u=e.Date||R.Date,n=e.SyntaxError||R.SyntaxError,k=e.TypeError||R.TypeError,i=e.Math||R.Math,o=e.JSON||R.JSON;"object"==typeof o&&o&&(c.stringify=o.stringify,c.parse=o.parse);var x,T,A,r=t.prototype,I=r.toString,f=new u(-0xc782b5b800cec);try{f=-109252==f.getUTCFullYear()&&0===f.getUTCMonth()&&1===f.getUTCDate()&&10==f.getUTCHours()&&37==f.getUTCMinutes()&&6==f.getUTCSeconds()&&708==f.getUTCMilliseconds()}catch(e){}function h(e){if(h[e]!==A)return h[e];var t;if("bug-string-char-index"==e)t="a"!="a"[0];else if("json"==e)t=h("json-stringify")&&h("json-parse");else{var n,i='{"a":[1,true,false,null,"\\u0000\\b\\n\\f\\r\\t"]}';if("json-stringify"==e){var o=c.stringify,r="function"==typeof o&&f;if(r){(n=function(){return 1}).toJSON=n;try{r="0"===o(0)&&"0"===o(new d)&&'""'==o(new l)&&o(I)===A&&o(A)===A&&o()===A&&"1"===o(n)&&"[1]"==o([n])&&"[null]"==o([A])&&"null"==o(null)&&"[null,null,null]"==o([A,I,null])&&o({a:[n,!0,!1,null,"\0\b\n\f\r\t"]})==i&&"1"===o(null,n)&&"[\n 1,\n 2\n]"==o([1,2],null,1)&&'"-271821-04-20T00:00:00.000Z"'==o(new u(-864e13))&&'"+275760-09-13T00:00:00.000Z"'==o(new u(864e13))&&'"-000001-01-01T00:00:00.000Z"'==o(new u(-621987552e5))&&'"1969-12-31T23:59:59.999Z"'==o(new u(-1))}catch(e){r=!1}}t=r}if("json-parse"==e){var s=c.parse;if("function"==typeof s)try{if(0===s("0")&&!s(!1)){var a=5==(n=s(i)).a.length&&1===n.a[0];if(a){try{a=!s('"\t"')}catch(e){}if(a)try{a=1!==s("01")}catch(e){}if(a)try{a=1!==s("1.")}catch(e){}}}}catch(e){a=!1}t=a}}return h[e]=!!t}if(!h("json")){var p="[object Function]",C="[object Number]",P="[object String]",E="[object Array]",a=h("bug-string-char-index");if(!f)var O=i.floor,s=[0,31,59,90,120,151,181,212,243,273,304,334],B=function(e,t){return s[t]+365*(e-1970)+O((e-1969+(t=+(1<t)))/4)-O((e-1901+t)/100)+O((e-1601+t)/400)};if((x=r.hasOwnProperty)||(x=function(e){var n,t={};return x=(t.__proto__=null,t.__proto__={toString:1},t).toString!=I?function(e){var t=this.__proto__,n=e in(this.__proto__=null,this);return this.__proto__=t,n}:(n=t.constructor,function(e){var t=(this.constructor||n).prototype;return e in this&&!(e in t&&this[e]===t[e])}),t=null,x.call(this,e)}),T=function(e,t){var n,s,i,o=0;for(i in(n=function(){this.valueOf=0}).prototype.valueOf=0,s=new n)x.call(s,i)&&o++;return n=s=null,(T=o?2==o?function(e,t){var n,i={},o=I.call(e)==p;for(n in e)o&&"prototype"==n||x.call(i,n)||!(i[n]=1)||!x.call(e,n)||t(n)}:function(e,t){var n,i,o=I.call(e)==p;for(n in e)o&&"prototype"==n||!x.call(e,n)||(i="constructor"===n)||t(n);(i||x.call(e,n="constructor"))&&t(n)}:(s=["valueOf","toString","toLocaleString","propertyIsEnumerable","isPrototypeOf","hasOwnProperty","constructor"],function(e,t){var n,i,o=I.call(e)==p,r=!o&&"function"!=typeof e.constructor&&L[typeof e.hasOwnProperty]&&e.hasOwnProperty||x;for(n in e)o&&"prototype"==n||!r.call(e,n)||t(n);for(i=s.length;n=s[--i];r.call(e,n)&&t(n));}))(e,t)},!h("json-stringify")){function N(e,t){return("000000"+(t||0)).slice(-e)}function j(e){for(var t='"',n=0,i=e.length,o=!a||10<i,r=o&&(a?e.split(""):e);n<i;n++){var s=e.charCodeAt(n);switch(s){case 8:case 9:case 10:case 12:case 13:case 34:case 92:t+=m[s];break;default:if(s<32){t+="\\u00"+N(2,s.toString(16));break}t+=o?r[n]:e.charAt(n)}}return t+'"'}var m={92:"\\\\",34:'\\"',8:"\\b",12:"\\f",10:"\\n",13:"\\r",9:"\\t"},M=function(e,t,n,i,o,r,s){var a,c,d,l,u,f,h,p,m,g,v,y,_,b,w,S;try{a=t[e]}catch(e){}if("object"==typeof a&&a)if("[object Date]"!=(c=I.call(a))||x.call(a,"toJSON"))"function"==typeof a.toJSON&&(c!=C&&c!=P&&c!=E||x.call(a,"toJSON"))&&(a=a.toJSON(e));else if(-1/0<a&&a<1/0){if(B){for(u=O(a/864e5),d=O(u/365.2425)+1970-1;B(d+1,0)<=u;d++);for(l=O((u-B(d,0))/30.42);B(d,l+1)<=u;l++);u=1+u-B(d,l),h=O((f=(a%864e5+864e5)%864e5)/36e5)%24,p=O(f/6e4)%60,m=O(f/1e3)%60,g=f%1e3}else d=a.getUTCFullYear(),l=a.getUTCMonth(),u=a.getUTCDate(),h=a.getUTCHours(),p=a.getUTCMinutes(),m=a.getUTCSeconds(),g=a.getUTCMilliseconds();a=(d<=0||1e4<=d?(d<0?"-":"+")+N(6,d<0?-d:d):N(4,d))+"-"+N(2,l+1)+"-"+N(2,u)+"T"+N(2,h)+":"+N(2,p)+":"+N(2,m)+"."+N(3,g)+"Z"}else a=null;if(n&&(a=n.call(t,e,a)),null===a)return"null";if("[object Boolean]"==(c=I.call(a)))return""+a;if(c==C)return-1/0<a&&a<1/0?""+a:"null";if(c==P)return j(""+a);if("object"==typeof a){for(b=s.length;b--;)if(s[b]===a)throw k();if(s.push(a),v=[],w=r,r+=o,c==E){for(_=0,b=a.length;_<b;_++)y=M(_,a,n,i,o,r,s),v.push(y===A?"null":y);S=v.length?o?"[\n"+r+v.join(",\n"+r)+"\n"+w+"]":"["+v.join(",")+"]":"[]"}else T(i||a,function(e){var t=M(e,a,n,i,o,r,s);t!==A&&v.push(j(e)+":"+(o?" ":"")+t)}),S=v.length?o?"{\n"+r+v.join(",\n"+r)+"\n"+w+"}":"{"+v.join(",")+"}":"{}";return s.pop(),S}};c.stringify=function(e,t,n){var i,o,r,s;if(L[typeof t]&&t)if((s=I.call(t))==p)o=t;else if(s==E){r={};for(var a,c=0,d=t.length;c<d;a=t[c++],(s=I.call(a))!=P&&s!=C||(r[a]=1));}if(n)if((s=I.call(n))==C){if(0<(n-=n%1))for(i="",10<n&&(n=10);i.length<n;i+=" ");}else s==P&&(i=n.length<=10?n:n.slice(0,10));return M("",((a={})[""]=e,a),o,r,i,"",[])}}if(!h("json-parse")){function g(){throw _=b=null,n()}function v(){for(var e,t,n,i,o,r=b,s=r.length;_<s;)switch(o=r.charCodeAt(_)){case 9:case 10:case 13:case 32:_++;break;case 123:case 125:case 91:case 93:case 58:case 44:return e=a?r.charAt(_):r[_],_++,e;case 34:for(e="@",_++;_<s;)if((o=r.charCodeAt(_))<32)g();else if(92==o)switch(o=r.charCodeAt(++_)){case 92:case 34:case 47:case 98:case 116:case 110:case 102:case 114:e+=S[o],_++;break;case 117:for(t=++_,n=_+4;_<n;_++)48<=(o=r.charCodeAt(_))&&o<=57||97<=o&&o<=102||65<=o&&o<=70||g();e+=w("0x"+r.slice(t,_));break;default:g()}else{if(34==o)break;for(o=r.charCodeAt(_),t=_;32<=o&&92!=o&&34!=o;)o=r.charCodeAt(++_);e+=r.slice(t,_)}if(34==r.charCodeAt(_))return _++,e;g();default:if(t=_,45==o&&(i=!0,o=r.charCodeAt(++_)),48<=o&&o<=57){for(48==o&&(48<=(o=r.charCodeAt(_+1))&&o<=57)&&g(),i=!1;_<s&&(48<=(o=r.charCodeAt(_))&&o<=57);_++);if(46==r.charCodeAt(_)){for(n=++_;n<s&&(48<=(o=r.charCodeAt(n))&&o<=57);n++);n==_&&g(),_=n}if(101==(o=r.charCodeAt(_))||69==o){for(43!=(o=r.charCodeAt(++_))&&45!=o||_++,n=_;n<s&&(48<=(o=r.charCodeAt(n))&&o<=57);n++);n==_&&g(),_=n}return+r.slice(t,_)}if(i&&g(),"true"==r.slice(_,_+4))return _+=4,!0;if("false"==r.slice(_,_+5))return _+=5,!1;if("null"==r.slice(_,_+4))return _+=4,null;g()}return"$"}function y(e,t,n){var i=$(e,t,n);i===A?delete e[t]:e[t]=i}var _,b,w=l.fromCharCode,S={92:"\\",34:'"',47:"/",98:"\b",116:"\t",110:"\n",102:"\f",114:"\r"},D=function(e){var t,n;if("$"==e&&g(),"string"==typeof e){if("@"==(a?e.charAt(0):e[0]))return e.slice(1);if("["==e){for(t=[];"]"!=(e=v());n=n||!0)n&&(","==e?"]"==(e=v())&&g():g()),","==e&&g(),t.push(D(e));return t}if("{"==e){for(t={};"}"!=(e=v());n=n||!0)n&&(","==e?"}"==(e=v())&&g():g()),","!=e&&"string"==typeof e&&"@"==(a?e.charAt(0):e[0])&&":"==v()||g(),t[e.slice(1)]=D(v());return t}g()}return e},$=function(e,t,n){var i,o=e[t];if("object"==typeof o&&o)if(I.call(o)==E)for(i=o.length;i--;)y(o,i,n);else T(o,function(e){y(o,e,n)});return n.call(e,t,o)};c.parse=function(e,t){var n,i;return _=0,b=""+e,n=D(v()),"$"!=v()&&g(),_=b=null,t&&I.call(t)==p?$(((i={})[""]=n,i),"",t):n}}}return c.runInContext=z,c}if(!t||t.global!==t&&t.window!==t&&t.self!==t||(R=t),e)z(R,e);else{var n=R.JSON,i=R.JSON3,o=!1,r=z(R,R.JSON3={noConflict:function(){return o||(o=!0,R.JSON=n,R.JSON3=i,n=i=null),r}});R.JSON={parse:r.parse,stringify:r.stringify}}}).call(this)}).call(this,"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{})},{}],51:[function(e,t,n){t.exports=function(e,t){for(var n=[],i=(t=t||0)||0;i<e.length;i++)n[i-t]=e[i];return n}},{}]},{},[31])(31)}),function(e){"function"==typeof define&&define.amd?define(["jquery"],e):e(jQuery)}(function(a){var v=a.scrollTo=function(e,t,n){return a(window).scrollTo(e,t,n)};function n(e){return a.isFunction(e)||"object"==typeof e?e:{top:e,left:e}}return v.defaults={axis:"xy",duration:1.3<=parseFloat(a.fn.jquery)?0:1,limit:!0},v.window=function(e){return a(window)._scrollable()},a.fn._scrollable=function(){return this.map(function(){var e=this;if(!(!e.nodeName||-1!=a.inArray(e.nodeName.toLowerCase(),["iframe","#document","html","body"])))return e;var t=(e.contentWindow||e).document||e.ownerDocument||e;return/webkit/i.test(navigator.userAgent)||"BackCompat"==t.compatMode?t.body:t.documentElement})},a.fn.scrollTo=function(e,t,g){return"object"==typeof t&&(g=t,t=0),"function"==typeof g&&(g={onAfter:g}),"max"==e&&(e=9e9),g=a.extend({},v.defaults,g),t=t||g.duration,g.queue=g.queue&&1<g.axis.length,g.queue&&(t/=2),g.offset=n(g.offset),g.over=n(g.over),this._scrollable().each(function(){if(null!=e){var c,d=this,l=a(d),u=e,f={},h=l.is("html,body");switch(typeof u){case"number":case"string":if(/^([+-]=?)?\d+(\.\d+)?(px|%)?$/.test(u)){u=n(u);break}if(!(u=a(u,this)).length)return;case"object":(u.is||u.style)&&(c=(u=a(u)).offset())}var p=a.isFunction(g.offset)&&g.offset(d,u)||g.offset;a.each(g.axis.split(""),function(e,t){var n="x"==t?"Left":"Top",i=n.toLowerCase(),o="scroll"+n,r=d[o],s=v.max(d,t);if(c)f[o]=c[i]+(h?0:r-l.offset()[i]),g.margin&&(f[o]-=parseInt(u.css("margin"+n))||0,f[o]-=parseInt(u.css("border"+n+"Width"))||0),f[o]+=p[i]||0,g.over[i]&&(f[o]+=u["x"==t?"width":"height"]()*g.over[i]);else{var a=u[i];f[o]=a.slice&&"%"==a.slice(-1)?parseFloat(a)/100*s:a}g.limit&&/^\d+$/.test(f[o])&&(f[o]=f[o]<=0?0:Math.min(f[o],s)),!e&&g.queue&&(r!=f[o]&&m(g.onAfterFirst),delete f[o])}),m(g.onAfter)}function m(e){l.animate(f,t,g.easing,e&&function(){e.call(this,u,g)})}}).end()},v.max=function(e,t){var n="x"==t?"Width":"Height",i="scroll"+n;if(!a(e).is("html,body"))return e[i]-a(e)[n.toLowerCase()]();var o="client"+n,r=e.ownerDocument.documentElement,s=e.ownerDocument.body;return Math.max(r[i],s[i])-Math.min(r[o],s[o])},v}),function(e){"function"==typeof define&&define.amd?define(["jquery"],e):e(jQuery)}(function(h){var i=/\+/g;function p(e){return g.raw?e:encodeURIComponent(e)}function m(e,t){var n=g.raw?e:function(e){0===e.indexOf('"')&&(e=e.slice(1,-1).replace(/\\"/g,'"').replace(/\\\\/g,"\\"));try{e=decodeURIComponent(e.replace(i," "))}catch(e){return}try{return g.json?JSON.parse(e):e}catch(e){}}(e);return h.isFunction(t)?t(n):n}var g=h.cookie=function(e,t,n){if(void 0!==t&&!h.isFunction(t)){if("number"==typeof(n=h.extend({},g.defaults,n)).expires){var i=n.expires,o=n.expires=new Date;o.setDate(o.getDate()+i)}return document.cookie=[p(e),"=",function(e){return p(g.json?JSON.stringify(e):String(e))}(t),n.expires?"; expires="+n.expires.toUTCString():"",n.path?"; path="+n.path:"",n.domain?"; domain="+n.domain:"",n.secure?"; secure":""].join("")}for(var r,s=e?void 0:{},a=document.cookie?document.cookie.split("; "):[],c=0,d=a.length;c<d;c++){var l=a[c].split("="),u=(r=l.shift(),g.raw?r:decodeURIComponent(r)),f=l.join("=");if(e&&e===u){s=m(f,t);break}e||void 0===(f=m(f))||(s[u]=f)}return s};g.defaults={},h.removeCookie=function(e,t){return void 0!==h.cookie(e)&&(h.cookie(e,"",h.extend({},t,{expires:-1})),!0)}}),window.matchMedia||(window.matchMedia=function(){"use strict";var t=window.styleMedia||window.media;if(!t){var n,i=document.createElement("style"),e=document.getElementsByTagName("script")[0];i.type="text/css",i.id="matchmediajs-test",e.parentNode.insertBefore(i,e),n="getComputedStyle"in window&&window.getComputedStyle(i)||i.currentStyle,t={matchMedium:function(e){var t="@media "+e+"{ #matchmediajs-test { width: 1px; } }";return i.styleSheet?i.styleSheet.cssText=t:i.textContent=t,"1px"===n.width}}}return function(e){return{matches:t.matchMedium(e||"all"),media:e||"all"}}}()),function(y){function i(e,t){var n,r=this,i=window.navigator,o=i.userAgent.toLowerCase();r.uid=y.rsModules.uid++,r.ns=".rs"+r.uid;var s,a,c=document.createElement("div").style,d=["webkit","Moz","ms","O"],l="",u=0;for(n=0;n<d.length;n++)s=d[n],!l&&s+"Transform"in c&&(l=s),s=s.toLowerCase(),window.requestAnimationFrame||(window.requestAnimationFrame=window[s+"RequestAnimationFrame"],window.cancelAnimationFrame=window[s+"CancelAnimationFrame"]||window[s+"CancelRequestAnimationFrame"]);window.requestAnimationFrame||(window.requestAnimationFrame=function(e,t){var n=(new Date).getTime(),i=Math.max(0,16-(n-u)),o=window.setTimeout(function(){e(n+i)},i);return u=n+i,o}),window.cancelAnimationFrame||(window.cancelAnimationFrame=function(e){clearTimeout(e)}),r.isIPAD=o.match(/(ipad)/),r.isIOS=r.isIPAD||o.match(/(iphone|ipod)/),d={},(n={browser:(a=/(chrome)[ \/]([\w.]+)/.exec(a=o)||/(webkit)[ \/]([\w.]+)/.exec(a)||/(opera)(?:.*version|)[ \/]([\w.]+)/.exec(a)||/(msie) ([\w.]+)/.exec(a)||a.indexOf("compatible")<0&&/(mozilla)(?:.*? rv:([\w.]+)|)/.exec(a)||[])[1]||"",version:a[2]||"0"}).browser&&(d[n.browser]=!0,d.version=n.version),d.chrome&&(d.webkit=!0),r._a=d,r.isAndroid=-1<o.indexOf("android"),r.slider=y(e),r.ev=y(r),r._b=y(document),r.st=y.extend({},y.fn.royalSlider.defaults,t),r._c=r.st.transitionSpeed,r._d=0,!r.st.allowCSS3||d.webkit&&!r.st.allowCSS3OnWebkit||(n=l+(l?"T":"t"),r._e=n+"ransform"in c&&n+"ransition"in c,r._e&&(r._f=l+(l?"P":"p")+"erspective"in c)),l=l.toLowerCase(),r._g="-"+l+"-",r._h="vertical"!==r.st.slidesOrientation,r._i=r._h?"left":"top",r._j=r._h?"width":"height",r._k=-1,r._l="fade"!==r.st.transitionType,r._l||(r.st.sliderDrag=!1,r._m=10),r._n="z-index:0; display:none; opacity:0;",r._o=0,r._p=0,r._q=0,y.each(y.rsModules,function(e,t){"uid"!==e&&t.call(r)}),r.slides=[],r._r=0,(r.st.slides?y(r.st.slides):r.slider.children().detach()).each(function(){r._s(this,!0)}),r.st.randomizeSlides&&r.slides.sort(function(){return.5-Math.random()}),r.numSlides=r.slides.length,r._t(),r.st.startSlideId?r.st.startSlideId>r.numSlides-1&&(r.st.startSlideId=r.numSlides-1):r.st.startSlideId=0,r._o=r.staticSlideId=r.currSlideId=r._u=r.st.startSlideId,r.currSlide=r.slides[r.currSlideId],r._v=0,r.pointerMultitouch=!1,r.slider.addClass((r._h?"rsHor":"rsVer")+(r._l?"":" rsFade")),c='<div class="rsOverflow"><div class="rsContainer">',r.slidesSpacing=r.st.slidesSpacing,r._w=(r._h?r.slider.width():r.slider.height())+r.st.slidesSpacing,r._x=Boolean(0<r._y),r.numSlides<=1&&(r._z=!1),r._a1=r._z&&r._l?2===r.numSlides?1:2:0,r._b1=r.numSlides<6?r.numSlides:6,r._c1=0,r._d1=0,r.slidesJQ=[];for(n=0;n<r.numSlides;n++)r.slidesJQ.push(y('<div style="'+(r._l?"":n!==r.currSlideId?r._n:"z-index:0;")+'" class="rsSlide "></div>'));r._e1=c=y(c+"</div></div>");var f,h=r.ns;l=function(e,t,n,i,o){r._j1=e+t+h,r._k1=e+n+h,r._l1=e+i+h,o&&(r._m1=e+o+h)};n=i.pointerEnabled,r.pointerEnabled=n||i.msPointerEnabled,r.pointerEnabled?(r.hasTouch=!1,r._n1=.2,r.pointerMultitouch=Boolean(1<i[(n?"m":"msM")+"axTouchPoints"]),n?l("pointer","down","move","up","cancel"):l("MSPointer","Down","Move","Up","Cancel")):(r.isIOS?r._j1=r._k1=r._l1=r._m1="":l("mouse","down","move","up"),"ontouchstart"in window||"createTouch"in document?(r.hasTouch=!0,r._j1+=" touchstart"+h,r._k1+=" touchmove"+h,r._l1+=" touchend"+h,r._m1+=" touchcancel"+h,r._n1=.5,r.st.sliderTouch&&(r._f1=!0)):(r.hasTouch=!1,r._n1=.2)),r.st.sliderDrag&&(r._f1=!0,d.msie||d.opera?r._g1=r._h1="move":d.mozilla?(r._g1="-moz-grab",r._h1="-moz-grabbing"):d.webkit&&-1!=i.platform.indexOf("Mac")&&(r._g1="-webkit-grab",r._h1="-webkit-grabbing"),r._i1()),r.slider.html(c),r._o1=r.st.controlsInside?r._e1:r.slider,r._p1=r._e1.children(".rsContainer"),r.pointerEnabled&&r._p1.css((n?"":"-ms-")+"touch-action",r._h?"pan-y":"pan-x"),r._q1=y('<div class="rsPreloader"></div>'),i=r._p1.children(".rsSlide"),r._r1=r.slidesJQ[r.currSlideId],r._s1=0,r._e?(r._t1="transition-property",r._u1="transition-duration",r._v1="transition-timing-function",r._w1=r._x1=r._g+"transform",r._f?(d.webkit&&!d.chrome&&r.slider.addClass("rsWebkit3d"),r._y1="translate3d(",r._z1="px, ",r._a2="px, 0px)"):(r._y1="translate(",r._z1="px, ",r._a2="px)"),r._l?r._p1[r._g+r._t1]=r._g+"transform":((d={})[r._g+r._t1]="opacity",d[r._g+r._u1]=r.st.transitionSpeed+"ms",d[r._g+r._v1]=r.st.css3easeInOut,i.css(d))):(r._x1="left",r._w1="top"),y(window).on("resize"+r.ns,function(){f&&clearTimeout(f),f=setTimeout(function(){r.updateSliderSize()},50)}),r.ev.trigger("rsAfterPropsSetup"),r.updateSliderSize(),r.st.keyboardNavEnabled&&r._b2(),r.st.arrowsNavHideOnTouch&&(r.hasTouch||r.pointerMultitouch)&&(r.st.arrowsNav=!1),r.st.arrowsNav&&(i=r._o1,y('<div class="rsArrow rsArrowLeft"><div class="rsArrowIcn"></div></div><div class="rsArrow rsArrowRight"><div class="rsArrowIcn"></div></div>').appendTo(i),r._c2=i.children(".rsArrowLeft").click(function(e){e.preventDefault(),r.prev()}),r._d2=i.children(".rsArrowRight").click(function(e){e.preventDefault(),r.next()}),r.st.arrowsNavAutoHide&&!r.hasTouch&&(r._c2.addClass("rsHidden"),r._d2.addClass("rsHidden"),i.one("mousemove.arrowshover",function(){r._c2.removeClass("rsHidden"),r._d2.removeClass("rsHidden")}),i.hover(function(){r._e2||(r._c2.removeClass("rsHidden"),r._d2.removeClass("rsHidden"))},function(){r._e2||(r._c2.addClass("rsHidden"),r._d2.addClass("rsHidden"))})),r.ev.on("rsOnUpdateNav",function(){r._f2()}),r._f2()),r._f1?r._p1.on(r._j1,function(e){r._g2(e)}):r.dragSuccess=!1;var p=["rsPlayBtnIcon","rsPlayBtn","rsCloseVideoBtn","rsCloseVideoIcn"];r._p1.click(function(e){if(!r.dragSuccess){var t=y(e.target).attr("class");if(-1!==y.inArray(t,p)&&r.toggleVideo())return!1;if(r.st.navigateByClick&&!r._h2){if(y(e.target).closest(".rsNoDrag",r._r1).length)return!0;r._i2(e)}r.ev.trigger("rsSlideClick",e)}}).on("click.rs","a",function(e){if(r.dragSuccess)return!1;r._h2=!0,setTimeout(function(){r._h2=!1},3)}),r.ev.trigger("rsAfterInit")}y.rsModules||(y.rsModules={uid:0}),i.prototype={constructor:i,_i2:function(e){(e=e[this._h?"pageX":"pageY"]-this._j2)>=this._q?this.next():e<0&&this.prev()},_t:function(){var e;e=this.st.numImagesToPreload,(this._z=this.st.loop)&&(2===this.numSlides?(this._z=!1,this.st.loopRewind=!0):this.numSlides<2&&(this.st.loopRewind=this._z=!1)),this._z&&0<e&&(this.numSlides<=4?e=1:this.st.numImagesToPreload>(this.numSlides-1)/2&&(e=Math.floor((this.numSlides-1)/2))),this._y=e},_s:function(e,t){function n(e,t){if(t?s.images.push(e.attr(t)):s.images.push(e.text()),a){a=!1,s.caption="src"===t?e.attr("alt"):e.contents(),s.image=s.images[0],s.videoURL=e.attr("data-rsVideo");var n=e.attr("data-rsw"),i=e.attr("data-rsh");void 0!==n&&!1!==n&&void 0!==i&&!1!==i?(s.iW=parseInt(n,10),s.iH=parseInt(i,10)):r.st.imgWidth&&r.st.imgHeight&&(s.iW=r.st.imgWidth,s.iH=r.st.imgHeight)}}var i,o,r=this,s={},a=!0;if(e=y(e),r._k2=e,r.ev.trigger("rsBeforeParseNode",[e,s]),!s.stopParsing)return e=r._k2,s.id=r._r,s.contentAdded=!1,r._r++,s.images=[],s.isBig=!1,s.hasCover||(e.hasClass("rsImg")?(o=e,i=!0):(o=e.find(".rsImg")).length&&(i=!0),i?(s.bigImage=o.eq(0).attr("data-rsBigImg"),o.each(function(){var e=y(this);e.is("a")?n(e,"href"):e.is("img")?n(e,"src"):n(e)})):e.is("img")&&(e.addClass("rsImg rsMainSlideImage"),n(e,"src"))),(o=e.find(".rsCaption")).length&&(s.caption=o.remove()),s.content=e,r.ev.trigger("rsAfterParseNode",[e,s]),t&&r.slides.push(s),0===s.images.length&&(s.isLoaded=!0,s.isRendered=!1,s.isLoading=!1,s.images=null),s},_b2:function(){function t(e){37===e?o.prev():39===e&&o.next()}var n,i,o=this;o._b.on("keydown"+o.ns,function(e){o._l2||(37!==(i=e.keyCode)&&39!==i||n||(t(i),n=setInterval(function(){t(i)},700)))}).on("keyup"+o.ns,function(e){n&&(clearInterval(n),n=null)})},goTo:function(e,t){e!==this.currSlideId&&this._m2(e,this.st.transitionSpeed,!0,!t)},destroy:function(e){this.ev.trigger("rsBeforeDestroy"),this._b.off("keydown"+this.ns+" keyup"+this.ns+" "+this._k1+" "+this._l1),this._p1.off(this._j1+" click"),this.slider.data("royalSlider",null),y.removeData(this.slider,"royalSlider"),y(window).off("resize"+this.ns),this.loadingTimeout&&clearTimeout(this.loadingTimeout),e&&this.slider.remove(),this.ev=this.slider=this.slides=null},_n2:function(i,e){function t(e,t,n){e.isAdded?(o(t,e),r(t,e)):(n=n||c.slidesJQ[t],e.holder?n=e.holder:(n=c.slidesJQ[t]=y(n),e.holder=n),e.appendOnLoaded=!1,r(t,e,n),o(t,e),c._p2(e,n,i),e.isAdded=!0)}function o(e,t){t.contentAdded||(c.setItemHtml(t,i),i||(t.contentAdded=!0))}function r(e,t,n){c._l&&(n=n||c.slidesJQ[e]).css(c._i,(e+c._d1+u)*c._w)}function n(e){if(d){if(l-1<e)return n(e-l);if(e<0)return n(l+e)}return e}var s,a,c=this,d=c._z,l=c.numSlides;if(!isNaN(e))return n(e);var u,f,h=c.currSlideId,p=i?Math.abs(c._o2-c.currSlideId)>=c.numSlides-1?0:1:c._y,m=Math.min(2,p),g=!1,v=!1;for(a=h;a<h+1+m;a++)if(f=n(a),(s=c.slides[f])&&(!s.isAdded||!s.positionSet)){g=!0;break}for(a=h-1;h-1-m<a;a--)if(f=n(a),(s=c.slides[f])&&(!s.isAdded||!s.positionSet)){v=!0;break}if(g)for(a=h;a<h+p+1;a++)f=n(a),u=Math.floor((c._u-(h-a))/c.numSlides)*c.numSlides,(s=c.slides[f])&&t(s,f);if(v)for(a=h-1;h-1-p<a;a--)f=n(a),u=Math.floor((c._u-(h-a))/l)*l,(s=c.slides[f])&&t(s,f);if(!i)for(m=n(h-p),p=(h=n(h+p))<m?0:m,a=0;a<l;a++)h<m&&m-1<a||!(a<p||h<a)||(s=c.slides[a])&&s.holder&&(s.holder.detach(),s.isAdded=!1)},setItemHtml:function(o,n){function e(){if(o.images){if(!o.isLoading){var e,n;if(o.content.hasClass("rsImg")?(e=o.content,n=!0):e=o.content.find(".rsImg:not(img)"),e&&!e.is("img")&&e.each(function(){var e=y(this),t='<img class="rsImg" src="'+(e.is("a")?e.attr("href"):e.text())+'" />';n?o.content=y(t):e.replaceWith(t)}),e=n?o.content:o.content.find("img.rsImg"),d(),e.eq(0).addClass("rsMainSlideImage"),o.iW&&o.iH&&(o.isLoaded||r._q2(o),c()),o.isLoading=!0,o.isBig)y("<img />").on("load.rs error.rs",function(e){y(this).off("load.rs error.rs"),s([this],!0)}).attr("src",o.image);else{o.loaded=[],e=function(e){y(this).off("load.rs error.rs"),o.loaded.push(this),o.loaded.length===o.numStartedLoad&&s(o.loaded,!1)};for(var t=o.numStartedLoad=0;t<o.images.length;t++){var i=y("<img />");o.numStartedLoad++,i.on("load.rs error.rs",e).attr("src",o.images[t])}}}}else o.isRendered=!0,o.isLoaded=!0,o.isLoading=!1,c(!0)}var r=this,s=function(e,t){if(e.length){var n=e[0];if(t!==o.isBig)(n=o.holder.children())&&1<n.length&&l();else if(o.iW&&o.iH)a();else if(o.iW=n.width,o.iH=n.height,o.iW&&o.iH)a();else{var i=new Image;i.onload=function(){i.width?(o.iW=i.width,o.iH=i.height,a()):setTimeout(function(){i.width&&(o.iW=i.width,o.iH=i.height),a()},1e3)},i.src=n.src}}else a()},a=function(){o.isLoaded=!0,o.isLoading=!1,c(),l(),i()},c=function(){if(!o.isAppended&&r.ev){var e=r.st.visibleNearby,t=o.id-r._o;n||o.appendOnLoaded||!r.st.fadeinLoadedSlide||0!=t&&(!(e||r._r2||r._l2)||-1!=t&&1!=t)||((e={visibility:"visible",opacity:0})[r._g+"transition"]="opacity 400ms ease-in-out",o.content.css(e),setTimeout(function(){o.content.css("opacity",1)},16)),o.holder.find(".rsPreloader").length?o.holder.append(o.content):o.holder.html(o.content),o.isAppended=!0,o.isLoaded&&(r._q2(o),i()),o.sizeReady||(o.sizeReady=!0,setTimeout(function(){r.ev.trigger("rsMaybeSizeReady",o)},100))}},i=function(){!o.loadedTriggered&&r.ev&&(o.isLoaded=o.loadedTriggered=!0,o.holder.trigger("rsAfterContentSet"),r.ev.trigger("rsAfterContentSet",o))},d=function(){r.st.usePreloader&&o.holder.html(r._q1.clone())},l=function(e){r.st.usePreloader&&((e=o.holder.find(".rsPreloader")).length&&e.remove())};o.isLoaded?c():n?!r._l&&o.images&&o.iW&&o.iH?e():(o.holder.isWaiting=!0,d(),o.holder.slideId=-99):e()},_p2:function(e,t,n){this._p1.append(e.holder),e.appendOnLoaded=!1},_g2:function(e,t){var n,i=this,o="touchstart"===e.type;if(i._s2=o,i.ev.trigger("rsDragStart"),y(e.target).closest(".rsNoDrag",i._r1).length)return!(i.dragSuccess=!1);if(!t&&i._r2&&(i._t2=!0,i._u2()),i.dragSuccess=!1,i._l2)o&&(i._v2=!0);else{if(o&&(i._v2=!1),i._w2(),o){var r=e.originalEvent.touches;if(!(r&&0<r.length))return;n=r[0],1<r.length&&(i._v2=!0)}else e.preventDefault(),n=e,i.pointerEnabled&&(n=n.originalEvent);i._l2=!0,i._b.on(i._k1,function(e){i._x2(e,t)}).on(i._l1,function(e){i._y2(e,t)}),i._z2="",i._a3=!1,i._b3=n.pageX,i._c3=n.pageY,i._d3=i._v=(t?i._e3:i._h)?n.pageX:n.pageY,i._f3=0,i._g3=0,i._h3=t?i._i3:i._p,i._j3=(new Date).getTime(),o&&i._e1.on(i._m1,function(e){i._y2(e,t)})}},_k3:function(e,t){if(this._l3){var n=this._m3,i=e.pageX-this._b3,o=e.pageY-this._c3,r=this._h3+i,s=this._h3+o,a=t?this._e3:this._h;r=a?r:s,s=this._z2;this._a3=!0,this._b3=e.pageX,this._c3=e.pageY,"x"===s&&0!==i?this._f3=0<i?1:-1:"y"===s&&0!=o&&(this._g3=0<o?1:-1),s=a?this._b3:this._c3,i=a?i:o,t?r>this._n3?r=this._h3+i*this._n1:r<this._o3&&(r=this._h3+i*this._n1):this._z||(this.currSlideId<=0&&0<s-this._d3&&(r=this._h3+i*this._n1),this.currSlideId>=this.numSlides-1&&s-this._d3<0&&(r=this._h3+i*this._n1)),this._h3=r,200<n-this._j3&&(this._j3=n,this._v=s),t?this._q3(this._h3):this._l&&this._p3(this._h3)}},_x2:function(e,t){var n,i=this,o="touchmove"===e.type;if(!i._s2||o){if(o){if(i._r3)return;var r=e.originalEvent.touches;if(!r)return;if(1<r.length)return;n=r[0]}else n=e,i.pointerEnabled&&(n=n.originalEvent);if(i._a3||(i._e&&(t?i._s3:i._p1).css(i._g+i._u1,"0s"),function e(){i._l2&&(i._t3=requestAnimationFrame(e),i._u3&&i._k3(i._u3,t))}()),i._l3)e.preventDefault(),i._m3=(new Date).getTime(),i._u3=n;else if(r=t?i._e3:i._h,7<(n=Math.abs(n.pageX-i._b3)-Math.abs(n.pageY-i._c3)-(r?-7:7))){if(r)e.preventDefault(),i._z2="x";else if(o)return void i._v3(e);i._l3=!0}else if(n<-7){if(r){if(o)return void i._v3(e)}else e.preventDefault(),i._z2="y";i._l3=!0}}},_v3:function(e,t){this._r3=!0,this._a3=this._l2=!1,this._y2(e)},_y2:function(e,n){function i(e){return e<100?100:500<e?500:e}function t(e,t){(c._l||n)&&(s=(-c._u-c._d1)*c._w,a=Math.abs(c._p-s),c._c=a/t,e&&(c._c+=250),c._c=i(c._c),c._x3(s,!1))}var o,r,s,a,c=this;if(o=-1<e.type.indexOf("touch"),!c._s2||o)if(c._s2=!1,c.ev.trigger("rsDragRelease"),c._u3=null,c._l2=!1,c._r3=!1,c._l3=!1,c._m3=0,cancelAnimationFrame(c._t3),c._a3&&(n?c._q3(c._h3):c._l&&c._p3(c._h3)),c._b.off(c._k1).off(c._l1),o&&c._e1.off(c._m1),c._i1(),!c._a3&&!c._v2&&n&&c._w3){var d=y(e.target).closest(".rsNavItem");d.length&&c.goTo(d.index())}else{if(r=n?c._e3:c._h,!c._a3||"y"===c._z2&&r||"x"===c._z2&&!r){if(n||!c._t2)return c._t2=!1,void(c.dragSuccess=!1);if(c._t2=!1,c.st.navigateByClick)return c._i2(c.pointerEnabled?e.originalEvent:e),void(c.dragSuccess=!0);c.dragSuccess=!0}else c.dragSuccess=!0;c._t2=!1,c._z2="";var l=c.st.minSlideOffset;o=o?e.originalEvent.changedTouches[0]:c.pointerEnabled?e.originalEvent:e;var u=r?o.pageX:o.pageY,f=c._d3;o=c._v;var h=c.currSlideId,p=c.numSlides,m=r?c._f3:c._g3,g=c._z;if(Math.abs(u-f),o=u-o,r=(new Date).getTime()-c._j3,r=Math.abs(o)/r,0===m||p<=1)t(!0,r);else{if(!g&&!n)if(h<=0){if(0<m)return void t(!0,r)}else if(p-1<=h&&m<0)return void t(!0,r);if(n){if((s=c._i3)>c._n3)s=c._n3;else if(s<c._o3)s=c._o3;else{if(u=r*r/.006,d=-c._i3,f=c._y3-c._z3+c._i3,0<o&&d<u?(r=r*(d+=c._z3/(15/(u/r*.003)))/u,u=d):o<0&&f<u&&(r=r*(f+=c._z3/(15/(u/r*.003)))/u,u=f),d=Math.max(Math.round(r/.003),50),(s+=u*(o<0?-1:1))>c._n3)return void c._a4(s,d,!0,c._n3,200);if(s<c._o3)return void c._a4(s,d,!0,c._o3,200)}c._a4(s,d,!0)}else d=function(e){var t=Math.floor(e/c._w);return e-t*c._w>l&&t++,t},f+l<u?m<0?t(!1,r):(d=d(u-f),c._m2(c.currSlideId-d,i(Math.abs(c._p-(-c._u-c._d1+d)*c._w)/r),!1,!0,!0)):u<f-l?0<m?t(!1,r):(d=d(f-u),c._m2(c.currSlideId+d,i(Math.abs(c._p-(-c._u-c._d1-d)*c._w)/r),!1,!0,!0)):t(!1,r)}}},_p3:function(e){e=this._p=e,this._e?this._p1.css(this._x1,this._y1+(this._h?e+this._z1+0:0+this._z1+e)+this._a2):this._p1.css(this._h?this._x1:this._w1,e)},updateSliderSize:function(e){var t,n;if(this.slider){if(this.st.autoScaleSlider){var i=this.st.autoScaleSliderWidth,o=this.st.autoScaleSliderHeight;this.st.autoScaleHeight?((t=this.slider.width())!=this.width&&(this.slider.css("height",o/i*t),t=this.slider.width()),n=this.slider.height()):((n=this.slider.height())!=this.height&&(this.slider.css("width",i/o*n),n=this.slider.height()),t=this.slider.width())}else t=this.slider.width(),n=this.slider.height();if(e||t!=this.width||n!=this.height){for(this.width=t,this.height=n,this._b4=t,this._c4=n,this.ev.trigger("rsBeforeSizeSet"),this.ev.trigger("rsAfterSizePropSet"),this._e1.css({width:this._b4,height:this._c4}),this._w=(this._h?this._b4:this._c4)+this.st.slidesSpacing,this._d4=this.st.imageScalePadding,t=0;t<this.slides.length;t++)(e=this.slides[t]).positionSet=!1,e&&e.images&&e.isLoaded&&(e.isRendered=!1,this._q2(e));if(this._e4)for(t=0;t<this._e4.length;t++)(e=this._e4[t]).holder.css(this._i,(e.id+this._d1)*this._w);this._n2(),this._l&&(this._e&&this._p1.css(this._g+"transition-duration","0s"),this._p3((-this._u-this._d1)*this._w)),this.ev.trigger("rsOnUpdateNav")}this._j2=this._e1.offset(),this._j2=this._j2[this._i]}},appendSlide:function(e,t){var n=this._s(e);(isNaN(t)||t>this.numSlides)&&(t=this.numSlides),this.slides.splice(t,0,n),this.slidesJQ.splice(t,0,y('<div style="'+(this._l?"position:absolute;":this._n)+'" class="rsSlide"></div>')),t<=this.currSlideId&&this.currSlideId++,this.ev.trigger("rsOnAppendSlide",[n,t]),this._f4(t),t===this.currSlideId&&this.ev.trigger("rsAfterSlideChange")},removeSlide:function(e){var t=this.slides[e];t&&(t.holder&&t.holder.remove(),e<this.currSlideId&&this.currSlideId--,this.slides.splice(e,1),this.slidesJQ.splice(e,1),this.ev.trigger("rsOnRemoveSlide",[e]),this._f4(e),e===this.currSlideId&&this.ev.trigger("rsAfterSlideChange"))},_f4:function(e){var t=this;for(e=t.numSlides,e=t._u<=0?0:Math.floor(t._u/e),t.numSlides=t.slides.length,0===t.numSlides?(t.currSlideId=t._d1=t._u=0,t.currSlide=t._g4=null):t._u=e*t.numSlides+t.currSlideId,e=0;e<t.numSlides;e++)t.slides[e].id=e;t.currSlide=t.slides[t.currSlideId],t._r1=t.slidesJQ[t.currSlideId],t.currSlideId>=t.numSlides?t.goTo(t.numSlides-1):t.currSlideId<0&&t.goTo(0),t._t(),t._l&&t._p1.css(t._g+t._u1,"0ms"),t._h4&&clearTimeout(t._h4),t._h4=setTimeout(function(){t._l&&t._p3((-t._u-t._d1)*t._w),t._n2(),t._l||t._r1.css({display:"block",opacity:1})},14),t.ev.trigger("rsOnUpdateNav")},_i1:function(){this._f1&&this._l&&(this._g1?this._e1.css("cursor",this._g1):(this._e1.removeClass("grabbing-cursor"),this._e1.addClass("grab-cursor")))},_w2:function(){this._f1&&this._l&&(this._h1?this._e1.css("cursor",this._h1):(this._e1.removeClass("grab-cursor"),this._e1.addClass("grabbing-cursor")))},next:function(e){this._m2("next",this.st.transitionSpeed,!0,!e)},prev:function(e){this._m2("prev",this.st.transitionSpeed,!0,!e)},_m2:function(e,t,n,i,o){var r,s,a,c=this;if(c.ev.trigger("rsBeforeMove",[e,i]),a="next"===e?c.currSlideId+1:"prev"===e?c.currSlideId-1:e=parseInt(e,10),!c._z){if(a<0)return void c._i4("left",!i);if(a>=c.numSlides)return void c._i4("right",!i)}c._r2&&(c._u2(!0),n=!1),s=a-c.currSlideId,a=c._o2=c.currSlideId;var d,l=c.currSlideId+s;i=c._u,c._z?(l=c._n2(!1,l),i+=s):i=l,c._o=l,c._g4=c.slidesJQ[c.currSlideId],c._u=i,c.currSlideId=c._o,c.currSlide=c.slides[c.currSlideId],c._r1=c.slidesJQ[c.currSlideId];l=c.st.slidesDiff;var u=Boolean(0<s);s=Math.abs(s);var f=Math.floor(a/c._y),h=Math.floor((a+(u?l:-l))/c._y);if((f=(u?Math.max(f,h):Math.min(f,h))*c._y+(u?c._y-1:0))>c.numSlides-1?f=c.numSlides-1:f<0&&(f=0),(a=u?f-a:a-f)>c._y&&(a=c._y),a+l<s)for(c._d1+=(s-(a+l))*(u?-1:1),t*=1.4,a=0;a<c.numSlides;a++)c.slides[a].positionSet=!1;c._c=t,c._n2(!0),o||(d=!0),r=(-i-c._d1)*c._w,d?setTimeout(function(){c._j4=!1,c._x3(r,e,!1,n),c.ev.trigger("rsOnUpdateNav")},0):(c._x3(r,e,!1,n),c.ev.trigger("rsOnUpdateNav"))},_f2:function(){this.st.arrowsNav&&(this.numSlides<=1?(this._c2.css("display","none"),this._d2.css("display","none")):(this._c2.css("display","block"),this._d2.css("display","block"),this._z||this.st.loopRewind||(0===this.currSlideId?this._c2.addClass("rsArrowDisabled"):this._c2.removeClass("rsArrowDisabled"),this.currSlideId===this.numSlides-1?this._d2.addClass("rsArrowDisabled"):this._d2.removeClass("rsArrowDisabled"))))},_x3:function(e,t,n,i,o){function r(){var e;s&&(e=s.data("rsTimeout"))&&(s!==a&&s.css({opacity:0,display:"none",zIndex:0}),clearTimeout(e),s.data("rsTimeout","")),(e=a.data("rsTimeout"))&&(clearTimeout(e),a.data("rsTimeout",""))}var s,a,c=this,d={};isNaN(c._c)&&(c._c=400),c._p=c._h3=e,c.ev.trigger("rsBeforeAnimStart"),c._e?c._l?(c._c=parseInt(c._c,10),n=c._g+c._v1,d[c._g+c._u1]=c._c+"ms",d[n]=i?y.rsCSS3Easing[c.st.easeInOut]:y.rsCSS3Easing[c.st.easeOut],c._p1.css(d),i||!c.hasTouch?setTimeout(function(){c._p3(e)},5):c._p3(e)):(c._c=c.st.transitionSpeed,s=c._g4,(a=c._r1).data("rsTimeout")&&a.css("opacity",0),r(),s&&s.data("rsTimeout",setTimeout(function(){d[c._g+c._u1]="0ms",d.zIndex=0,d.display="none",s.data("rsTimeout",""),s.css(d),setTimeout(function(){s.css("opacity",0)},16)},c._c+60)),d.display="block",d.zIndex=c._m,d.opacity=0,d[c._g+c._u1]="0ms",d[c._g+c._v1]=y.rsCSS3Easing[c.st.easeInOut],a.css(d),a.data("rsTimeout",setTimeout(function(){a.css(c._g+c._u1,c._c+"ms"),a.data("rsTimeout",setTimeout(function(){a.css("opacity",1),a.data("rsTimeout","")},20))},20))):c._l?(d[c._h?c._x1:c._w1]=e+"px",c._p1.animate(d,c._c,i?c.st.easeInOut:c.st.easeOut)):(s=c._g4,(a=c._r1).stop(!0,!0).css({opacity:0,display:"block",zIndex:c._m}),c._c=c.st.transitionSpeed,a.animate({opacity:1},c._c,c.st.easeInOut),r(),s&&s.data("rsTimeout",setTimeout(function(){s.stop(!0,!0).css({opacity:0,display:"none",zIndex:0})},c._c+60))),c._r2=!0,c.loadingTimeout&&clearTimeout(c.loadingTimeout),c.loadingTimeout=o?setTimeout(function(){c.loadingTimeout=null,o.call()},c._c+60):setTimeout(function(){c.loadingTimeout=null,c._k4(t)},c._c+60)},_u2:function(e){if(this._r2=!1,clearTimeout(this.loadingTimeout),this._l)if(this._e){if(!e){e=this._p;var t=this._h3=this._l4();this._p1.css(this._g+this._u1,"0ms"),e!==t&&this._p3(t)}}else this._p1.stop(!0),this._p=parseInt(this._p1.css(this._x1),10);else 20<this._m?this._m=10:this._m++},_l4:function(){var e=window.getComputedStyle(this._p1.get(0),null).getPropertyValue(this._g+"transform").replace(/^matrix\(/i,"").split(/, |\)$/g),t=0===e[0].indexOf("matrix3d");return parseInt(e[this._h?t?12:4:t?13:5],10)},_m4:function(e,t){return this._e?this._y1+(t?e+this._z1+0:0+this._z1+e)+this._a2:e},_k4:function(e){this._l||(this._r1.css("z-index",0),this._m=10),this._r2=!1,this.staticSlideId=this.currSlideId,this._n2(),this._n4=!1,this.ev.trigger("rsAfterSlideChange")},_i4:function(e,t){var n=this,i=(-n._u-n._d1)*n._w;if(0!==n.numSlides&&!n._r2)if(n.st.loopRewind)n.goTo("left"===e?n.numSlides-1:0,t);else if(n._l){n._c=200;function o(){n._r2=!1}n._x3(i+("left"===e?30:-30),"",!1,!0,function(){n._r2=!1,n._x3(i,"",!1,!0,o)})}},_q2:function(e,t){if(!e.isRendered){var n,i,o=e.content,r="rsMainSlideImage",s=this.st.imageAlignCenter,a=this.st.imageScaleMode;if(e.videoURL&&(r="rsVideoContainer","fill"!==a?n=!0:((i=o).hasClass(r)||(i=i.find("."+r)),i.css({width:"100%",height:"100%"}),r="rsMainSlideImage")),o.hasClass(r)||(o=o.find("."+r)),o){var c=e.iW,d=e.iH;if(e.isRendered=!0,"none"!==a||s){r="fill"!==a?this._d4:0,i=this._b4-2*r;var l,u,f=this._c4-2*r,h={};"fit-if-smaller"===a&&(i<c||f<d)&&(a="fit"),"fill"!==a&&"fit"!==a||(l=i/c,u=f/d,l="fill"==a?u<l?l:u:"fit"==a?l<u?l:u:1,c=Math.ceil(c*l,10),d=Math.ceil(d*l,10)),"none"!==a&&(h.width=c,h.height=d,n&&o.find(".rsImg").css({width:"100%",height:"100%"})),s&&(h.marginLeft=Math.floor((i-c)/2)+r,h.marginTop=Math.floor((f-d)/2)+r),o.css(h)}}}}},y.rsProto=i.prototype,y.fn.royalSlider=function(t){var n=arguments;return this.each(function(){var e=y(this);if("object"!=typeof t&&t){if((e=e.data("royalSlider"))&&e[t])return e[t].apply(e,Array.prototype.slice.call(n,1))}else e.data("royalSlider")||e.data("royalSlider",new i(e,t))})},y.fn.royalSlider.defaults={slidesSpacing:8,startSlideId:0,loop:!1,loopRewind:!1,numImagesToPreload:4,fadeinLoadedSlide:!0,slidesOrientation:"horizontal",transitionType:"move",transitionSpeed:600,controlNavigation:"bullets",controlsInside:!0,arrowsNav:!0,arrowsNavAutoHide:!0,navigateByClick:!0,randomizeSlides:!1,sliderDrag:!0,sliderTouch:!0,keyboardNavEnabled:!1,fadeInAfterLoaded:!0,allowCSS3:!0,allowCSS3OnWebkit:!0,addActiveClass:!1,autoHeight:!1,easeOut:"easeOutSine",easeInOut:"easeInOutSine",minSlideOffset:10,imageScaleMode:"fit-if-smaller",imageAlignCenter:!0,imageScalePadding:4,usePreloader:!0,autoScaleSlider:!1,autoScaleSliderWidth:800,autoScaleSliderHeight:400,autoScaleHeight:!0,arrowsNavHideOnTouch:!1,globalCaption:!1,slidesDiff:2},y.rsCSS3Easing={easeOutSine:"cubic-bezier(0.390, 0.575, 0.565, 1.000)",easeInOutSine:"cubic-bezier(0.445, 0.050, 0.550, 0.950)"},y.extend(jQuery.easing,{easeInOutSine:function(e,t,n,i,o){return-i/2*(Math.cos(Math.PI*t/o)-1)+n},easeOutSine:function(e,t,n,i,o){return i*Math.sin(t/o*(Math.PI/2))+n},easeOutCubic:function(e,t,n,i,o){return i*((t=t/o-1)*t*t+1)+n}})}(jQuery,window),function(n){n.extend(n.rsProto,{_i5:function(){var i=this;"bullets"===i.st.controlNavigation&&(i.ev.one("rsAfterPropsSetup",function(){i._j5=!0,i.slider.addClass("rsWithBullets");for(var e='<div class="rsNav rsBullets">',t=0;t<i.numSlides;t++)e+='<div class="rsNavItem rsBullet"><span></span></div>';i._k5=e=n(e+"</div>"),i._l5=e.appendTo(i.slider).children(),i._k5.on("click.rs",".rsNavItem",function(e){i._m5||i.goTo(n(this).index())})}),i.ev.on("rsOnAppendSlide",function(e,t,n){n>=i.numSlides?i._k5.append('<div class="rsNavItem rsBullet"><span></span></div>'):i._l5.eq(n).before('<div class="rsNavItem rsBullet"><span></span></div>'),i._l5=i._k5.children()}),i.ev.on("rsOnRemoveSlide",function(e,t){var n=i._l5.eq(t);n&&n.length&&(n.remove(),i._l5=i._k5.children())}),i.ev.on("rsOnUpdateNav",function(){var e=i.currSlideId;i._n5&&i._n5.removeClass("rsNavSelected"),(e=i._l5.eq(e)).addClass("rsNavSelected"),i._n5=e}))}}),n.rsModules.bullets=n.rsProto._i5}(jQuery),function(o){o.extend(o.rsProto,{_x4:function(){var i,e=this;e._y4={enabled:!1,stopAtAction:!0,pauseOnHover:!0,delay:2e3},!e.st.autoPlay&&e.st.autoplay&&(e.st.autoPlay=e.st.autoplay),e.st.autoPlay=o.extend({},e._y4,e.st.autoPlay),e.st.autoPlay.enabled&&(e.ev.on("rsBeforeParseNode",function(e,t,n){t=o(t),(i=t.attr("data-rsDelay"))&&(n.customDelay=parseInt(i,10))}),e.ev.one("rsAfterInit",function(){e._z4()}),e.ev.on("rsBeforeDestroy",function(){e.stopAutoPlay(),e.slider.off("mouseenter mouseleave"),o(window).off("blur"+e.ns+" focus"+e.ns)}))},_z4:function(){var i=this;i.startAutoPlay(),i.ev.on("rsAfterContentSet",function(e,t){i._l2||i._r2||!i._a5||t!==i.currSlide||i._b5()}),i.ev.on("rsDragRelease",function(){i._a5&&i._c5&&(i._c5=!1,i._b5())}),i.ev.on("rsAfterSlideChange",function(){i._a5&&i._c5&&(i._c5=!1,i.currSlide.isLoaded&&i._b5())}),i.ev.on("rsDragStart",function(){i._a5&&(i.st.autoPlay.stopAtAction?i.stopAutoPlay():(i._c5=!0,i._d5()))}),i.ev.on("rsBeforeMove",function(e,t,n){i._a5&&(n&&i.st.autoPlay.stopAtAction?i.stopAutoPlay():(i._c5=!0,i._d5()))}),i._e5=!1,i.ev.on("rsVideoStop",function(){i._a5&&(i._e5=!1,i._b5())}),i.ev.on("rsVideoPlay",function(){i._a5&&(i._c5=!1,i._d5(),i._e5=!0)}),o(window).on("blur"+i.ns,function(){i._a5&&(i._c5=!0,i._d5())}).on("focus"+i.ns,function(){i._a5&&i._c5&&(i._c5=!1,i._b5())}),i.st.autoPlay.pauseOnHover&&(i._f5=!1,i.slider.hover(function(){i._a5&&(i._c5=!1,i._d5(),i._f5=!0)},function(){i._a5&&(i._f5=!1,i._b5())}))},toggleAutoPlay:function(){this._a5?this.stopAutoPlay():this.startAutoPlay()},startAutoPlay:function(){this._a5=!0,this.currSlide.isLoaded&&this._b5()},stopAutoPlay:function(){this._e5=this._f5=this._c5=this._a5=!1,this._d5()},_b5:function(){var t=this;t._f5||t._e5||(t._g5=!0,t._h5&&clearTimeout(t._h5),t._h5=setTimeout(function(){var e;t._z||t.st.loopRewind||(e=!0,t.st.loopRewind=!0),t.next(!0),e&&(t.st.loopRewind=!1)},t.currSlide.customDelay?t.currSlide.customDelay:t.st.autoPlay.delay))},_d5:function(){this._f5||this._e5||(this._g5=!1,this._h5&&(clearTimeout(this._h5),this._h5=null))}}),o.rsModules.autoplay=o.rsProto._x4}(jQuery),function(e){e.extend(e.rsProto,{_w4:function(){var t=this;if(t.st.autoHeight){function n(e){r=t.slides[t.currSlideId],(i=r.holder)&&(o=i.height())&&void 0!==o&&o>(t.st.minAutoHeight||30)&&(t._c4=o,t._e||!e?t._e1.css("height",o):t._e1.stop(!0,!0).animate({height:o},t.st.transitionSpeed),t.ev.trigger("rsAutoHeightChange",o),s&&(t._e&&setTimeout(function(){t._e1.css(t._g+"transition","height "+t.st.transitionSpeed+"ms ease-in-out")},16),s=!1))}var i,o,r,s=!0;t.ev.on("rsMaybeSizeReady.rsAutoHeight",function(e,t){r===t&&n()}),t.ev.on("rsAfterContentSet.rsAutoHeight",function(e,t){r===t&&n()}),t.slider.addClass("rsAutoHeight"),t.ev.one("rsAfterInit",function(){setTimeout(function(){n(!1),setTimeout(function(){t.slider.append('<div style="clear:both; float: none;"></div>')},16)},16)}),t.ev.on("rsBeforeAnimStart",function(){n(!0)}),t.ev.on("rsBeforeSizeSet",function(){setTimeout(function(){n(!1)},16)})}}}),e.rsModules.autoHeight=e.rsProto._w4}(jQuery),function(e){e.rsProto._o4=function(){var e,t=this;t.st.addActiveClass&&t.ev.on("rsOnUpdateNav",function(){e&&clearTimeout(e),e=setTimeout(function(){t._g4&&t._g4.removeClass("rsActiveSlide"),t._r1&&t._r1.addClass("rsActiveSlide"),e=null},50)})},e.rsModules.activeClass=e.rsProto._o4}(jQuery),function(d){d.extend(d.rsProto,{_o5:function(){var t,e,n,i=this;if(i._p5={enabled:!1,change:!1,prefix:""},i.st.deeplinking=d.extend({},i._p5,i.st.deeplinking),i.st.deeplinking.enabled){function o(){var e=window.location.hash;return e&&0<e.indexOf(s)&&0<=(e=parseInt(e.substring(a.length),10))?e-1:-1}var r=i.st.deeplinking.change,s=i.st.deeplinking.prefix,a="#"+s,c=o();-1!==c&&(i.st.startSlideId=c),r&&(d(window).on("hashchange"+i.ns,function(e){t||((e=o())<0||(e>i.numSlides-1&&(e=i.numSlides-1),i.goTo(e)))}),i.ev.on("rsBeforeAnimStart",function(){e&&clearTimeout(e),n&&clearTimeout(n)}),i.ev.on("rsAfterSlideChange",function(){e&&clearTimeout(e),n&&clearTimeout(n),n=setTimeout(function(){t=!0,window.location.replace((""+window.location).split("#")[0]+a+(i.currSlideId+1)),e=setTimeout(function(){t=!1,e=null},60)},400)})),i.ev.on("rsBeforeDestroy",function(){e=n=null,r&&d(window).off("hashchange"+i.ns)})}}}),d.rsModules.deeplinking=d.rsProto._o5}(jQuery),function(o,n){function i(e){return"#"+(e=e||location.href).replace(/^[^#]*#?(.*)$/,"$1")}var e,r,s,t,a,c,d,l,u="hashchange",f=document,h=o.event.special,p=f.documentMode,m="on"+u in n&&(void 0===p||7<p);function g(){var e=i(),t=l(c);e!==c?(d(c=e,t),o(n).trigger(u)):t!==c&&(location.href=location.href.replace(/#.*/,"")+t),r=setTimeout(g,o.fn[u].delay)}function v(e){return e}o.fn[u]=function(e){return e?this.bind(u,e):this.trigger(u)},o.fn[u].delay=50,h[u]=o.extend(h[u],{setup:function(){if(m)return!1;o(e.start)},teardown:function(){if(m)return!1;o(e.stop)}}),a={},c=i(),l=d=v,a.start=function(){r||g()},a.stop=function(){r&&clearTimeout(r),r=void 0},!n.attachEvent||n.addEventListener||m||(a.start=function(){s||(t=(t=o.fn[u].src)&&t+i(),s=o('<iframe tabindex="-1" title="empty"/>').hide().one("load",function(){t||d(i()),g()}).attr("src",t||"javascript:0").insertAfter("body")[0].contentWindow,f.onpropertychange=function(){try{"title"===event.propertyName&&(s.document.title=f.title)}catch(e){}})},a.stop=v,l=function(){return i(s.location.href)},d=function(e,t){var n=s.document,i=o.fn[u].domain;e!==t&&(n.title=f.title,n.open(),i&&n.write('<script>document.domain="'+i+'"<\/script>'),n.close(),s.location.hash=e)}),e=a}(jQuery,this),window.console||(window.console={log:function(){},dir:function(){}});var rf={versionNumber:"1.4.9",adsURL:"//ads.aiir.net/",logging:!1,fayeLogging:!1,platform:"",feedInterval:60,feedItemMax:40,topSensitivity:200,bottomSensitivity:600,oldItemsAmount:0,gettingOlderItemData:!1,userIsAtTop:!0,userIsAtBottom:!1,noMoreOlderItems:!1,currentSignal:"",resizingTimeout:null,scrollTimeout:null,transformSupported:!1,itemsBuffer:[],jumpButtonShowing:!1,votedSongs:{},liveSliderOptions:{scrollbar:!1,snapToItems:!0,directionNav:!1,pagingNav:!0,pagingNavControls:!1,itemsPerMove:1,useWebkit3d:!0,autoplay:!0,autoplayStopAtAction:!1,autoplayDelay:5e3,itemFallbackWidth:0,transitionSpeed:400},feedSliderOptions:{scrollbar:!1,snapToItems:!0,directionNav:!1,pagingNav:!0,pagingNavControls:!0,itemsPerMove:1,useWebkit3d:!0,itemFallbackWidth:0},topCarouselItems:null,containerWidth:0,winWidth:0,winHeight:0,tabletScale:!1,socket:{method:"",pollCount:1,prevConnected:!1,getNewerItemsTimer:null,fallbackDelayId:0,nodeServer:settings.nodeEndpoint,connection:null,fallbackActive:!1,client:null},spinner:{lines:12,length:4,width:2,radius:5,corners:1,rotate:0,color:settings.spinnerColour,speed:1,trail:60,shadow:!1,hwaccel:!1,className:"spinner",zIndex:2e9,top:"0",left:"0"},fbFeed:{$pod:null,podWidth:null,init:function(){rf.fbFeed.pod=$(".pod-facebook-feed .feed-pod-inner"),rf.fbFeed.podWidth=rf.fbFeed.pod.width(),rf.fbFeed.setWidget(),$(window).on("resize",function(){rf.fbFeed.podWidth=rf.fbFeed.pod.width(),rf.fbFeed.setWidget()})},setWidget:function(){var e='<iframe src="//www.facebook.com/plugins/likebox.php?href='+settings.fbPageUrlEnc+"&amp;width="+rf.fbFeed.podWidth+'&amp;height=600&amp;colorscheme=light&amp;show_faces=false&amp;header=false&amp;stream=true&amp;show_border=false" scrolling="no" frameborder="0" style="border:none; overflow:hidden; width:'+rf.fbFeed.podWidth+'px; height:600px;" allowTransparency="true"></iframe>';rf.fbFeed.pod.html(e)}},output:function(e){rf.logging&&console.log(e)},init:function(){17==settings.siteId&&(rf.logging=!0),rf.parseUserAgent(),rf.containerWidth=$(".feed-inner").width(),rf.winWidth=$(window).width(),rf.winHeight=$(window).height(),rf.liveSliderOptions.itemFallbackWidth=rf.winWidth,rf.feedSliderOptions.itemFallbackWidth=rf.containerWidth,rf.feedItemMax=Math.round(rf.winHeight/30),rf.output("feedItemMax is "+rf.feedItemMax),$("#version").html(rf.versionNumber),rf.transformSupported=!1,rf.tabletScale=matchMedia("only screen and (min-width: 768px)").matches,window.addEventListener?window.addEventListener("message",rf.handleMessage,!1):window.attachEvent&&window.attachEvent("onmessage",rf.handleMessage),$(window).on("blur",function(){window.postMessage&&(clearTimeout(rf.socket.fallbackDelayId),rf.socket.fallbackDelayId=setTimeout(function(){parent.postMessage("radiofeed_event_blur","*")},500))}),$(window).on("focus",function(){window.postMessage&&(clearTimeout(rf.socket.fallbackDelayId),rf.socket.fallbackDelayId=setTimeout(function(){parent.postMessage("radiofeed_event_focus","*")},500))}),rf.checkSignal(),rf.output("Initial Connection details"),rf.output("-------\n\n"),rf.bindSocketEvents(),settings.showFacebookFeed||setInterval(function(){rf.updateTimestamps()},1e4),"ontouchstart"in document.documentElement?$("#feed-cont").on("touchstart","a.feed-pod-inner:not(.no-active)",function(e){var t=this;this.timeout=setTimeout(function(){$(t).addClass("active")},70)}).on("touchmove","a.feed-pod-inner",function(e){clearTimeout(this.timeout),$(this).removeClass("active")}).on("touchend","a.feed-pod-inner",function(e){clearTimeout(this.timeout);var t=this;this.timeout=setTimeout(function(){$(t).removeClass("active")},100)}):$("#feed-cont").on("mousedown","a.feed-pod-inner:not(.no-active)",function(e){$(this).addClass("active");var t=this;$(document).on("mouseup",function e(){$(document).off("mouseup",e),$(t).removeClass("active")})});var e={a:"init",version:rf.versionNumber,service_id:settings.serviceId};$.getJSON("/radiofeed_request/",e,rf.initialLoad),settings.votingEnabled&&$("#feed-cont").on("vclick",".pod-song .vote button",function(){var e=$(this),t=e.parents(".pod-song"),n=e.data("dir"),i=e.parent(),o=i.parent().data("trackid"),r=i.closest(".feed-pod-outer").attr("data-id"),s="up"==n?"u":"d";if(e.hasClass("active"))e.removeClass("active"),t.removeClass("voted voted-"+n).data("voted-dir",""),i.addClass("half").siblings(".vote-feedback").remove(),delete rf.votedSongs[r],$.post("/_song_vote/unvote",{voteVal:s,playingId:r,serviceId:settings.serviceId},function(e){rf.output("result: "+e)});else{e.addClass("active"),i.removeClass("half"),t.addClass("voted voted-"+n).data("voted-dir",n);var a=$('<span class="vote-feedback">Thanks for voting!</span>');i.parent().append(a),setTimeout(function(){a.addClass("animated fadeOut")},4e3),rf.votedSongs[r]=s,$.post("/_song_vote/vote",{voteVal:s,trackId:o,playingId:r,serviceId:settings.serviceId},function(e){rf.output("result: "+e)})}return!1}),$("#jump-to-top").on("vclick",function(e){e.stopPropagation(),e.preventDefault(),rf.insertBufferItems()}),settings.showFacebookFeed&&rf.fbFeed.init(),$("body").addClass(rf.platform),$(window).on("keypress",function(e){100==e.which&&$(".debug").toggle()}),this.bindAdClickTracking()},parseUserAgent:function(){-1!==navigator.userAgent.indexOf("gmedia")?this.platform="gmedia":this.platform="browser"},initialLoad:function(e){rf.initTopCarousel(e),$(window).off("scroll").on("scroll",rf.scrollWindow).on("resize",rf.resizeWindow)},handleMessage:function(e){"radioplayer_event_connect"==e.data?rf.socket.client.connected||(clearTimeout(rf.socket.fallbackDelayId),rf.socket.fallbackDelayId=setTimeout(function(){rf.catchup("radioplayer_connect"),rf.bindSocketEvents()},1e3)):"radioplayer_event_disconnect"==e.data?"object"==typeof rf.socket.client&&rf.socket.client.connected&&(rf.output("Disconnecting"),rf.socket.client.disconnect(),$("#status").html("Disconnected"),$("#method").html("Polling - State: "+(rf.socket.client.connected?"connected":"not connected"))):"radiofeed_event_blur"==e.data||"radiofeed_event_focus"==e.data||rf.output("Unknown message source: "+e.data)},scrollWindow:function(){settings.showFacebookFeed||(clearTimeout(rf.scrollTimeout),rf.scrollTimeout=setTimeout(function(){if($(window).scrollTop()<=rf.topSensitivity){var e=!rf.userIsAtTop;rf.userIsAtTop=!0,rf.output("user is at top 2"),e&&(rf.output("top state changed"),0<rf.itemsBuffer.length&&rf.insertBufferItems())}else rf.userIsAtTop=!1,rf.output("user is not at top 2");if($(window).scrollTop()+$(window).height()>$(document).height()-rf.bottomSensitivity){var t=!rf.userIsAtBottom;rf.userIsAtBottom=!0,t&&(rf.gettingOlderItemData||rf.noMoreOlderItems||(rf.userIsAtBottom=!1,rf.getOldItems()))}else rf.userIsAtBottom=!1},100))},resizeWindow:function(e){clearTimeout(rf.resizingTimeout),rf.resizingTimeout=setTimeout(function(){var e=rf.winWidth,t=rf.winHeight;rf.containerWidth=$(".feed-inner").width(),rf.winWidth=$(window).width(),rf.winHeight=$(window).height(),rf.liveSliderOptions.itemFallbackWidth=rf.winWidth,rf.feedSliderOptions.itemFallbackWidth=rf.containerWidth,t!=rf.winHeight&&(rf.feedItemMax=Math.round(rf.winHeight/50)),rf.tabletScale=matchMedia("only screen and (min-width: 768px)").matches,e!=rf.winWidth&&(rf.resizeTopCarousel(),rf.reinitFeedCarousels())},100)},weightSum:function(e){var t=0;for(var n in e)e.hasOwnProperty(n)&&(t+=e[n]);return t},bindSocketEvents:function(){null!=rf.socket.client&&(rf.socket.client.connected&&(rf.output("Previously connected, disconnecting"),rf.socket.client.disconnect()),rf.socket.client=null),rf.socket.client=io("//"+rf.socket.nodeServer+"/rf"),rf.socket.client.on("connect",function(){rf.socket.fallbackActive=!1,rf.output("Connected"),$("#status").html("Connected").removeClass().addClass("text-success"),$("#method").html("Faye - State: "+(rf.socket.client.connected?"connected":"not connected"));var e=settings.serviceId;rf.socket.client.emit("subscribe",e)}).on("message",function(e){switch(rf.logging&&console.dir(e),e.type){case"new-item":rf.updateTopCarousel(e,!1);break;case"delete-item":$("#feedPod"+e.itemId).remove(),$('.feed-pod-outer[data-id="'+e.itemId+'"]').remove()}}).on("disconnect",function(){rf.socket.fallbackActive=!0,rf.output("Disconnected"),$("#status").html("Disconnected"),$("#method").html("Polling - State: "+(rf.socket.client.connected?"connected":"not connected"))})},checkSignal:function(){(signal="wifi")==signal?(rf.currentSignal="wifi",rf.oldItemsAmount=10):"3g"==signal?(rf.currentSignal="3g",rf.oldItemsAmount=10):"edge"==signal?(rf.currentSignal="edge",rf.oldItemsAmount=5):"gprs"==signal?(rf.currentSignal="gprs",rf.oldItemsAmount=3):"none"==signal&&(rf.currentSignal="none")},createTimestamp:function(e){var t=[[60,"just now",1],[120,"1 min ago","1 minute from now"],[3600,"mins",60],[7200,"1 hour ago","1 hour from now"],[86400,"hours",3600],[172800,"yesterday","tomorrow"],[604800,"days",86400],[1209600,"last week","next week"],[2419200,"weeks",604800],[4838400,"last month","next month"],[29030400,"months",2419200],[58060800,"last year","next year"],[290304e4,"years",29030400]],n=Math.floor((new Date).getTime()/1e3)-e,i="ago",o=1;if(n<0&&(n=Math.abs(n),i="from now",o=2),n<60&&0<=n)return"just now";for(var r,s=0;r=t[s++];)if(n<r[0])return"string"==typeof r[2]?r[o]:Math.floor(n/r[2])+" "+r[1]+" "+i},initTopCarousel:function(e){var n="";rf.topCarouselItems=e.live.items,$.each(rf.topCarouselItems,function(e,t){n+=rf.oneTopCarouselItem(t)}),$(".top-carousel .royalSlider").html(n),$(".top-carousel li").css("width",rf.winWidth),$(".top-carousel .royalSlider").royalSlider({arrowsNav:!1,controlNavigation:"none",loop:!0,transitionSpeed:400,autoPlay:{enabled:!0,pauseOnHover:!1,stopAtAction:!1,delay:5e3}}),rf.positionTopCarouselContents(),settings.showFacebookFeed||setTimeout(function(){rf.insertFeedPods(e.feed,"first-call")},100)},resizeTopCarousel:function(){0<rf.topCarouselItems.length&&($topSlider=$(".top-carousel .royalSlider"),$topSlider.find("li").css("width",rf.winWidth+"px"),$topSlider.data("royalSlider").updateSliderSize(),rf.positionTopCarouselContents())},positionTopCarouselContents:function(){$(".top-carousel .onair-slide").each(function(){var e=$(this),n=e.parent().outerHeight(),t=e.find(".show-text"),i=t.outerHeight(),o=(n-i)/2;if(t.css("top",(o<7?7:o)+"px"),settings.positionShowImage){var r=e.find(".show-image");r.imagesLoaded(function(){var e=r.outerHeight(),t=(n-e)/2;r.css("top",(t<10?10:t)+"px")})}})},initFeedCarousels:function(){$("#feed-cont").find(".feed-pod-outer.not-init-slider").each(function(e,t){$podOuter=$(this),$slider=$podOuter.find(".royalSlider");var o=0;$slider.find("li").each(function(e,t){$sliderPod=$(this),$sliderPod.css("width",rf.containerWidth-18+"px");var n=$sliderPod.find(".pod-icon").outerHeight();$sliderPod.find("a").css("min-height",n);var i=$sliderPod.outerHeight();o<i&&(o=i)}),$slider.css("height",o+"px").royalSlider({arrowsNav:!1,controlNavigation:"bullets",transitionSpeed:400}),$podOuter.removeClass("not-init-slider")})},reinitFeedCarousels:function(){$("#feed-cont").find(".feed-pod-outer.contains-slider").each(function(e,t){$podOuter=$(this),$slider=$podOuter.find(".royalSlider");var o=0;$slider.find("li").each(function(e,t){$sliderPod=$(this),$sliderPod.css("width",rf.containerWidth-18+"px");var n=$sliderPod.find(".pod-icon").outerHeight();$sliderPod.find("a").css("min-height",n);var i=$sliderPod.outerHeight();o<i&&(o=i)}),$slider.css("height",o+"px").data("royalSlider").updateSliderSize(!0)})},updateTopCarousel:function(e,t){var i=!1;void 0===e.live.items&&(e.live.items=[]);var o=rf.topCarouselItems,n=e.live.items;if(n.length!=o.length?i=!0:$.each(n,function(e,t){var n=o[e];t.id==n.id&&t.type==n.type&&t.updateinc==n.updateinc||(i=!0)}),i){var r="";rf.topCarouselItems=n,$.each(rf.topCarouselItems,function(e,t){r+=rf.oneTopCarouselItem(t)}),$(".top-carousel .royalSlider").royalSlider("destroy").empty().royalSlider({slides:r,arrowsNav:!1,controlNavigation:"none",loop:!0,transitionSpeed:400,autoPlay:{enabled:!0,pauseOnHover:!1,stopAtAction:!1,delay:5e3}}),rf.positionTopCarouselContents()}settings.showFacebookFeed||(rf.userIsAtTop?t?rf.insertFeedPods(e.feed,"buffer-items"):rf.insertFeedPods(e.feed,"new-items"):(rf.jumpButtonShowing||($("#jump-to-top").css("top","-40px").show().animate({top:"8px"},500),rf.jumpButtonShowing=!0),rf.itemsBuffer=e.feed.items.concat(rf.itemsBuffer)))},oneTopCarouselItem:function(e){var t="";return"onairnow"==e.type||"onairnext"==e.type?t+='<li class="slide-outer" data-id="'+e.id+'" data-type="'+e.type+'"><div class="slide-inner"><div class="onair-slide '+e.type+' slide-type-cont"><img class="show-image" src="'+e.image+'" alt="'+e.title+'" /><div class="show-text"><h3 class="status-title">'+e.header+'</h3><strong class="show-name">'+e.title+"</strong>"+("onairnext"==e.type?'<span class="show-desc">'+e.starttime+"</span>":"")+"</div></div>":"image"==e.type&&(t+='<li class="slide-outer" data-id="'+e.id+'" data-type="'+e.type+'"'+(e.bgval?' style="background'+("image"==e.bgtype?":url("+e.bgval+") 0 0 repeat-x":":#"+e.bgval)+';"':"")+'><div class="slide-inner"><div class="image-slide slide-type-cont"><a href="'+e.link+'" target="_blank"><img src="'+e.image+'" alt="'+e.title+'" /></a></div></div></li>'),t},insertFeedPods:function(e,n){if(e.total=parseInt(e.total),0<e.total){var i="",o=!1;$("#feed-cont .feed-pod-outer:not(.pod-loading)").length;if($.each(e.items,function(e,t){t.type&&(i+=rf.constructFeedPod(t,e,n),"news"!=t.type&&"traffic"!=t.type||(o=!0))}),"add-to-bottom"==n)$("#feed-cont").append(i),rf.updateTimestamps(),o&&rf.initFeedCarousels();else{rf.noMoreOlderItems=!1,"new-items"==n&&(i='<div class="new-items-carrier">'+i+'</div><div class="new-items-placeholder"></div>'),$("#feed-cont").prepend(i),$("#feed-cont .feed-pod-outer:gt("+(rf.feedItemMax-1)+").contains-slider:not(.not-init-slider)").each(function(e,t){$(this).find(".royalSlider").data("royalSlider").destroy()}),$("#feed-cont .feed-pod-outer:gt("+(rf.feedItemMax-1)+")").remove(),rf.updateTimestamps();var t=rf.lastAdPosition();if(-1==t||t>=settings.adSeparation+1)if("first-call"==n)rf.requestFeedAd();else{var r=Math.floor(6e4*Math.random()+1);setTimeout(function(){rf.requestFeedAd()},r)}if("new-items"==n){var s=$("#feed-cont .feed-pod-outer.hidden").find("img");0<s.length?s.imagesLoaded(function(){rf.showInsertedPods()}):rf.showInsertedPods()}else if("buffer-items"==n){var a=$("#feed-cont > .feed-pod-outer:gt(0).pod-song.playing-now");if(0<a.length&&(a.removeClass("playing-now"),settings.votingEnabled))if(a.hasClass("voted")){var c=a.data("voted-dir");a.find(".vote").replaceWith('<span class="voted-icon '+c+'">Voted '+c+"</span>")}else a.find(".vote").remove();rf.initFeedCarousels(),$.scrollTo(0,{axis:"y",duration:400})}else rf.initFeedCarousels()}}rf.hideLoadingSpinner(),rf.noMoreOlderItems?rf.showNoMoreItems():rf.showLoadingSpinner(),!rf.gettingOlderItemData&&$(window).scrollTop()+$(window).height()>$(document).height()-100&&!rf.noMoreOlderItems&&rf.getOldItems()},showInsertedPods:function(){var e=$("#feed-cont > .feed-pod-outer.pod-song.playing-now");if(0<e.length){if(settings.votingEnabled)if(e.hasClass("voted")){var t=e.data("voted-dir"),n=e.find(".vote");n.fadeOut(200,function(){setTimeout(function(){var e=$('<span class="voted-icon '+t+'" style="display:none;">Voted '+t+"</span>");n.replaceWith(e),e.fadeIn(300)},1e3)})}else e.find(".vote").fadeOut(200,function(){$(this).remove()});var i=e.find(".feed-pod-inner"),o=e.find(".pod-desc"),r=e.find(".pod-icon");i.animate({"padding-left":"68px","min-height":"52px"},300),o.animate({"padding-bottom":0},300),r.animate({width:"48px",height:"48px"},300,function(){e.removeClass("playing-now"),setTimeout(function(){rf.slideInNewPods()},500)})}else rf.slideInNewPods()},slideInNewPods:function(){var t=$(".new-items-carrier"),n=$(".new-items-placeholder"),e=n.width()-18;t.children().css({width:e+"px"}),rf.initFeedCarousels();var i=t.outerHeight();if(t.css({top:"-"+(i+10)+"px"}).css({visibility:"visible"}),rf.tabletScale)var o=i-18+"px";else o=i-13+"px";n.animate({height:o},500),t.animate({top:"0"},500,function(){t.children().css({width:"auto"});var e=t.contents();$("#feed-cont").prepend(e),t.remove(),n.remove()})},linkSelector:function(e,t){return"gmedia"==this.platform?'href="'+e+'"':t?'href="'+t+'"'+("#"!=t?' target="_blank"':""):'href="'+e+'"'+("#"!=e?' target="_blank"':"")},constructFeedPod:function(e,t,n){var i=!1,o=null,r='<div class="feed-pod-outer pod-'+e.type+("song"==e.type&&0==t&&"add-to-bottom"!==n?" playing-now":"")+'"'+(void 0!==e.id?' data-id="'+e.id+'"':"")+">";"song"==e.type&&!1===settings.linkSongsToArtistPages&&(e.url="");var s="";if(void 0!==e.url&&""!=e.url&&(s=rf.linkSelector(e.url,void 0!==e.urlDesktop&&""!=e.urlDesktop?e.urlDesktop:"")),"vip"==e.type||"song"==e.type||"twitter"==e.type||"facebook"==e.type||"custom"==e.type){if(void 0!==e.url&&""!=e.url?r+='<a class="feed-pod-inner" '+s+">":r+='<div class="feed-pod-inner">',r+='<em class="pod-timestamp" data-timestamp="'+e.timestamp+'">'+rf.createTimestamp(e.timestamp)+'</em><h3 class="access">'+e.header+'</h3><strong class="pod-title">'+e.title+'</strong> <span class="pod-desc">'+e.desc+"</span> "+("custom"==e.type||void 0!==e.image?'<img class="pod-icon" src="'+e.image+'" alt="'+e.desc+'" />':'<em class="pod-icon sprite"></em>'),void 0!==e.url&&""!=e.url?r+="</a>":r+="</div>",settings.votingEnabled&&"song"==e.type&&"add-to-bottom"!==n)if(0==t)if(rf.votedSongs[e.id]){var a="u"==(c=rf.votedSongs[e.id])?"up":"down";r=r.replace("pod-song","pod-song voted voted-"+a),r+='<div class="vote cf" data-trackid="'+e.trackId+'"><span class="button-segment'+("u"==c?"":" half")+' left up"><button type="button" data-dir="up"'+("u"==c?' class="active"':"")+'>I like this song</button></span><span class="button-segment'+("d"==c?"":" half")+' right down"><button type="button" data-dir="down"'+("d"==c?' class="active"':"")+">I dislike this song</button></span></div>"}else r+='<div class="vote cf" data-trackid="'+e.trackId+'"><span class="button-segment half left up"><button type="button" data-dir="up">I like this song</button></span><span class="button-segment half right down"><button type="button" data-dir="down">I dislike this song</button></span></div>';else if(rf.votedSongs[e.id]){var c;a="u"==(c=rf.votedSongs[e.id])?"up":"down";r=r.replace("pod-song","pod-song voted voted-"+a),r+='<span class="voted-icon '+a+'">Voted '+a+"</span>"}}else"airwave-post"==e.type?(void 0!==e.url&&""!=e.url?r+='<a class="feed-pod-inner" '+s+">":r+='<div class="feed-pod-inner">',r+='<em class="pod-timestamp" data-timestamp="'+e.timestamp+'">'+rf.createTimestamp(e.timestamp)+'</em><h3 class="access">'+e.header+'</h3><strong class="pod-title">'+e.title+'</strong><span class="pod-desc">'+e.desc+'</span><img class="pod-icon" src="'+e.onAirImage+'" alt="'+e.header+'" />'+(void 0!==e.image&&""!=e.image?'<div class="pod-image"><img src="'+e.image+'" alt="" /></div>':""),void 0!==e.url&&""!=e.url?r+="</a>":r+="</div>"):"advert"==e.type?r+='<a class="feed-pod-inner" href="'+e.url+'" target="_blank"><em class="pod-timestamp" data-timestamp="'+e.timestamp+'">'+rf.createTimestamp(e.timestamp)+'</em><h3 class="pod-header">'+(""!==e.header?e.header:"Sponsor")+'</h3><strong class="pod-title">'+e.title+'</strong><span class="pod-desc">'+e.desc+"</span></a>":"rfad"==e.type?(i=!0,o={logId:e.log_id,adId:e.ad_id,s:settings.siteId,t:"rf_playout_imp",src:settings.src},r+='<a class="feed-pod-inner no-active js-rf-playout-ad" href="'+e.url+'" target="_blank" data-adid="'+e.ad_id+'" data-logid="'+e.log_id+'"><img alt="" src="'+e.image+'" /></a>'):"adsched"==e.type?r+='<a class="feed-pod-inner no-active" href="'+e.url+'"'+(e.newwin?' target="_blank"':"")+'><img alt="" src="'+e.image+'" /></a>':"news"==e.type?(r=r.replace("pod-news","pod-news contains-slider not-init-slider"),r+='<div class="feed-pod-inner"><em class="pod-timestamp" data-timestamp="'+e.timestamp+'">'+rf.createTimestamp(e.timestamp)+'</em><h3 class="pod-header">'+e.header+'</h3><ul class="royalSlider rsRF">',$.each(e.stories,function(e,t){r+="<li><a "+rf.linkSelector(t.url,void 0!==t.urlDesktop&&""!=t.urlDesktop?t.urlDesktop:"")+' class="slide-inner news"><h4 class="pod-title">'+t.title+'</h4><span class="pod-desc">'+t.desc+'</span><img class="pod-icon" src="'+t.image+'" alt="'+t.title+'" /></a></li>'}),r+="</ul><a "+s+' class="pod-more-bottom">More News</a></div>'):"weather"==e.type?(r+='<a class="feed-pod-inner" '+s+'><em class="pod-timestamp" data-timestamp="'+e.timestamp+'">'+rf.createTimestamp(e.timestamp)+'</em><h3 class="pod-header">'+e.header+"</h3><table><tr>",$.each(e.weather,function(e,t){r+='<td><div class="weather-cell'+(0==e?" first":"")+'"><img class="pod-icon" src="'+t.image+'" alt="" /><div class="text-wrap"><strong class="pod-title">'+t.day+'</strong><span class="pod-desc">'+t.temp+"&deg;</span></div></div></td>"}),r+="</tr></table></a>"):"image"==e.type?r+='<a class="feed-pod-inner" '+s+'><em class="pod-timestamp" data-timestamp="'+e.timestamp+'">'+rf.createTimestamp(e.timestamp)+'</em><h3 class="access">'+e.header+'</h3><strong class="pod-title">'+e.title+'</strong><img class="pod-icon" src='+e.image+' alt="" /></a>':"traffic"==e.type?(r=r.replace("pod-traffic","pod-traffic contains-slider not-init-slider"),r+='<div class="feed-pod-inner"><em class="pod-timestamp" data-timestamp="'+e.timestamp+'">'+rf.createTimestamp(e.timestamp)+'</em><h3 class="pod-header">'+e.header+'</h3><ul class="royalSlider rsRF">',$.each(e.incidents,function(e,t){r+='<li><div class="slide-inner"><strong class="pod-title">'+t.title+'</strong> <span class="pod-desc">'+t.desc+'</span> <em class="pod-icon sprite '+t.severity+'"></em></div></li>'}),r+="</ul><a "+s+' class="pod-more-bottom">More Traffic</a></div>'):"promo"==e.type?r+='<a class="feed-pod-inner" '+s+'><h3 class="access">'+e.header+'</h3><img class="pod-icon" src="'+e.image+'" alt="'+e.desc+'" /></a>':"onair"==e.type&&(r+='<div class="feed-pod-inner"><em class="pod-timestamp" data-timestamp="'+e.timestamp+'">'+rf.createTimestamp(e.timestamp)+"</em><h3>"+e.header+'</h3><strong class="pod-title">'+e.name+'</strong><span class="pod-desc">'+e.caption+'</span><img class="pod-icon" src="'+e.image+'" alt="'+e.header+'" /></div>');return r+="</div>",i&&o&&this.recordImpression(o),r},requestFeedAd:function(){$.ajax({url:rf.adsURL+"rf/feed",cache:!1,dataType:"jsonp",data:{s:settings.siteId,version:rf.versionNumber,loc:settings.locId},success:function(e){if("onead"==e.status){var t=rf.constructFeedPod(e,0,"");$("#feed-cont .feed-pod-outer:first").after(t)}else"none"==e.status&&$("#feed-cont .feed-pod-outer:first").after('<div class="ad-ghost"></div>')}})},recordImpression:function(e){$.ajax({url:"https://1unuz67ll0.execute-api.eu-west-1.amazonaws.com/prod",data:e,cache:!1,dataType:"jsonp"})},bindAdClickTracking:function(){$("#feed-cont").on("click",".js-rf-playout-ad",function(){var e=$(this),t=e.data("adid"),n=e.data("logid");$.ajax({url:rf.adsURL+"rf/playout_track",method:"POST",data:{s:settings.siteId,uid:t,logId:n,src:settings.src}})})},requestNewServer:function(e){},catchup:function(e){var n=0;0<rf.itemsBuffer.length&&$.each(rf.itemsBuffer,function(e,t){if("id"in t)return n=t.id,!1});var t={a:"newer",itemId:n=n||$("#feed-cont .feed-pod-outer").first().attr("data-id"),version:rf.versionNumber,service_id:settings.serviceId};$.getJSON("/radiofeed_request/",t,function(e){rf.updateTopCarousel(e,!0)})},lastAdPosition:function(){var n=-1;return $("#feed-cont .feed-pod-outer, #feed-cont .ad-ghost").each(function(e,t){if($(t).is(".pod-adsched, .ad-ghost"))return n=e,!1}),n},getOldItems:function(){if(rf.gettingOlderItemData=!0,$("#feed-cont .feed-pod-outer[data-id]").last()){var e={a:"older",itemId:$("#feed-cont .feed-pod-outer[data-id]").last().attr("data-id"),oldItemsAmount:rf.oldItemsAmount,version:rf.versionNumber,service_id:settings.serviceId};$.getJSON("/radiofeed_request/",e,function(e){e.feed.total<rf.oldItemsAmount&&(rf.output("set no more older items to true "+e.feed.total),rf.noMoreOlderItems=!0,$("#feed-cont").css("padding-bottom","0")),0<e.feed.total?rf.insertFeedPods(e.feed,"add-to-bottom"):(rf.hideLoadingSpinner(),rf.showNoMoreItems()),rf.gettingOlderItemData=!1})}},updateTimestamps:function(){$("#feed-cont .pod-timestamp").each(function(e,t){$(t).html(rf.createTimestamp($(t).attr("data-timestamp")))})},insertBufferItems:function(){if($("#jump-to-top").hide(),rf.jumpButtonShowing=!1,0<rf.itemsBuffer.length){var e={total:rf.itemsBuffer.length,items:rf.itemsBuffer};rf.insertFeedPods(e,"buffer-items")}rf.itemsBuffer=[]},showLoadingSpinner:function(){$podLoading=$("<div />",{class:"feed-pod-outer pod-loading"}),$loadingIndicator=$("<div />",{class:"loading-indicator"}),$podLoading.append($loadingIndicator),$("#feed-cont").append($podLoading);new Spinner(rf.spinner).spin($loadingIndicator.get(0));$loadingIndicator.addClass("init")},hideLoadingSpinner:function(){$("#feed-cont .feed-pod-outer.pod-loading").remove()},showNoMoreItems:function(){0==$(".feed-pod-outer.no-more-items").length&&$("#feed-cont").append('<div class="feed-pod-outer no-more-items">No more items</div>')}};function GM_Resume(){console.log("GM_Resume"),rf.catchup("gmresume")}rf.output("RadioFeed JS - Document is ready"),rf.init();